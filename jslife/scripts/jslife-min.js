(function(g){var v=/[\.\/]/,s=function(){},G=function(f,g){return f-g},p,z,F={n:{}},y=function(f,g){var s=z,H=Array.prototype.slice.call(arguments,2),m=y.listeners(f),B=0,j,v=[],F={},O=[];p=f;z=0;for(var A=0,I=m.length;A<I;A++)"zIndex"in m[A]&&(v.push(m[A].zIndex),0>m[A].zIndex&&(F[m[A].zIndex]=m[A]));for(v.sort(G);0>v[B];)if(j=F[v[B++]],O.push(j.apply(g,H)),z)return z=s,O;for(A=0;A<I;A++)if(j=m[A],"zIndex"in j)if(j.zIndex==v[B]){O.push(j.apply(g,H));if(z)return z=s,O;do if(B++,j=F[v[B]],j&&O.push(j.apply(g,
H)),z)return z=s,O;while(j)}else F[j.zIndex]=j;else if(O.push(j.apply(g,H)),z)return z=s,O;z=s;return O.length?O:null};y.listeners=function(f){var f=f.split(v),g=F,p,s,m,B,j,y,z,G,A=[g],I=[];for(B=0,j=f.length;B<j;B++){G=[];for(y=0,z=A.length;y<z;y++)for(g=A[y].n,s=[g[f[B]],g["*"]],m=2;m--;)p=s[m],p&&(G.push(p),I=I.concat(p.f||[]));A=G}return I};y.on=function(f,g){for(var p=f.split(v),H=F,m=0,B=p.length;m<B;m++)H=H.n,!H[p[m]]&&(H[p[m]]={n:{}}),H=H[p[m]];H.f=H.f||[];for(m=0,B=H.f.length;m<B;m++)if(H.f[m]==
g)return s;H.f.push(g);return function(f){+f==+f&&(g.zIndex=+f)}};y.stop=function(){z=1};y.nt=function(f){return f?RegExp("(?:\\.|\\/|^)"+f+"(?:\\.|\\/|$)").test(p):p};y.unbind=function(f,g){var p=f.split(v),s,m,B,j,y,z,G=[F];for(j=0,y=p.length;j<y;j++)for(z=0;z<G.length;z+=B.length-2){B=[z,1];s=G[z].n;if("*"!=p[j])s[p[j]]&&B.push(s[p[j]]);else for(m in s)s.hasOwnProperty(m)&&B.push(s[m]);G.splice.apply(G,B)}for(j=0,y=G.length;j<y;j++)for(s=G[j];s.n;){if(g){if(s.f){for(z=0,p=s.f.length;z<p;z++)if(s.f[z]==
g){s.f.splice(z,1);break}!s.f.length&&delete s.f}for(m in s.n)if(s.n.hasOwnProperty(m)&&s.n[m].f){B=s.n[m].f;for(z=0,p=B.length;z<p;z++)if(B[z]==g){B.splice(z,1);break}!B.length&&delete s.n[m].f}}else for(m in delete s.f,s.n)s.n.hasOwnProperty(m)&&s.n[m].f&&delete s.n[m].f;s=s.n}};y.once=function(f,g){var p=function(){g.apply(this,arguments);y.unbind(f,p)};return y.on(f,p)};y.version="0.4.0";y.toString=function(){return"You are running Eve 0.4.0"};"undefined"!=typeof module&&module.exports?module.exports=
y:g.eve=y})(this);
(function(){function g(a,k,n,u,b,c){var n=L(n),V,i,e,g,l,r,h=a.ms,o={},m={},C={};if(u)for(w=0,j=K.length;w<j;w++){var U=K[w];if(U.el.id==k.id&&U.anim==a){U.percent!=n?(K.splice(w,1),e=1):i=U;k.attr(U.totalOrigin);break}}else u=+m;for(var w=0,j=a.percents.length;w<j;w++){if(a.percents[w]==n||a.percents[w]>u*a.top){n=a.percents[w];l=a.percents[w-1]||0;h=h/a.top*(n-l);g=a.percents[w+1];V=a.anim[n];break}u&&k.attr(a.anim[a.percents[w]])}if(V){if(i)i.initstatus=u,i.start=new Date-i.ms*u;else{for(var q in V)if(V[B](q)&&
(ja[B](q)||k.paper.customAttributes[B](q)))switch(o[q]=k.attr(q),null==o[q]&&(o[q]=Na[q]),m[q]=V[q],ja[q]){case t:C[q]=(m[q]-o[q])/h;break;case "colour":o[q]=f.getRGB(o[q]);w=f.getRGB(m[q]);C[q]={r:(w.r-o[q].r)/h,g:(w.g-o[q].g)/h,b:(w.b-o[q].b)/h};break;case "path":var w=aa(o[q],m[q]),x=w[1];o[q]=w[0];C[q]=[];for(w=0,j=o[q].length;w<j;w++){C[q][w]=[0];for(var z=1,v=o[q][w].length;z<v;z++)C[q][w][z]=(x[w][z]-o[q][w][z])/h}break;case "transform":w=k._;if(x=Oa(w[q],m[q])){o[q]=x.from;m[q]=x.to;C[q]=
[];C[q].real=!0;for(w=0,j=o[q].length;w<j;w++){C[q][w]=[o[q][w][0]];for(z=1,v=o[q][w].length;z<v;z++)C[q][w][z]=(m[q][w][z]-o[q][w][z])/h}}else x=k.matrix||new p,w={_:{transform:w.transform},getBBox:function(){return k.getBBox(1)}},o[q]=[x.a,x.b,x.c,x.d,x.e,x.f],Pa(w,m[q]),m[q]=w._.transform,C[q]=[(w.matrix.a-x.a)/h,(w.matrix.b-x.b)/h,(w.matrix.c-x.c)/h,(w.matrix.d-x.d)/h,(w.matrix.e-x.e)/h,(w.matrix.e-x.f)/h];break;case "csv":x=E(V[q])[d](P);j=E(o[q])[d](P);if("clip-rect"==q)for(o[q]=j,C[q]=[],w=
j.length;w--;)C[q][w]=(x[w]-o[q][w])/h;m[q]=x;break;default:for(x=[][D](V[q]),j=[][D](o[q]),C[q]=[],w=k.paper.customAttributes[q].length;w--;)C[q][w]=((x[w]||0)-(j[w]||0))/h}q=V.easing;w=f.easing_formulas[q];if(!w)if((w=E(q).match(Qa))&&5==w.length)var y=w,w=function(a){return s(a,+y[1],+y[2],+y[3],+y[4],h)};else w=Ra;r=V.start||a.start||+new Date;U={anim:a,percent:n,timestamp:r,start:r+(a.del||0),status:0,initstatus:u||0,stop:!1,ms:h,easing:w,from:o,diff:C,to:m,el:k,callback:V.callback,prev:l,next:g,
repeat:c||a.times,origin:k.attr(),totalOrigin:b};K.push(U);if(u&&!i&&!e&&(U.stop=!0,U.start=new Date-h*u,1==K.length))return ka();e&&(U.start=new Date-U.ms*u);1==K.length&&xa(ka)}eve("anim.start."+k.id,k,a)}}function v(a,k){var n=[],u={};this.ms=k;this.times=1;if(a){for(var b in a)a[B](b)&&(u[L(b)]=a[b],n.push(L(b)));n.sort(Sa)}this.anim=u;this.top=n[n.length-1];this.percents=n}function s(a,k,n,u,b,c){function d(a,k){var n,u,b,c;for(b=a,u=0;8>u;u++){c=((f*b+e)*b+i)*b-a;if(r(c)<k)return b;n=(3*f*b+
2*e)*b+i;if(1.0E-6>r(n))break;b-=c/n}n=0;u=1;b=a;if(b<n)return n;if(b>u)return u;for(;n<u;){c=((f*b+e)*b+i)*b;if(r(c-a)<k)break;a>c?n=b:u=b;b=(u-n)/2+n}return b}var i=3*k,e=3*(u-k)-i,f=1-i-e,g=3*n,l=3*(b-n)-g,h=1-g-l;return function(a,k){var n=d(a,k);return((h*n+l)*n+g)*n}(a,1/(200*c))}function G(){return this.x+S+this.y+S+this.width+" \u00d7 "+this.height}function p(a,k,n,u,b,c){null!=a?(this.a=+a,this.b=+k,this.c=+n,this.d=+u,this.e=+b,this.f=+c):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=
0)}function z(a){for(var k=[],n=0,u=a.length;u-2>n;n+=2){var b=[{x:+a[n],y:+a[n+1]},{x:+a[n],y:+a[n+1]},{x:+a[n+2],y:+a[n+3]},{x:+a[n+4],y:+a[n+5]}];u-4==n?(b[0]={x:+a[n-2],y:+a[n-1]},b[3]=b[2]):n&&(b[0]={x:+a[n-2],y:+a[n-1]});k.push(["C",(-b[0].x+6*b[1].x+b[2].x)/6,(-b[0].y+6*b[1].y+b[2].y)/6,(b[1].x+6*b[2].x-b[3].x)/6,(b[1].y+6*b[2].y-b[3].y)/6,b[2].x,b[2].y])}return k}function F(){return this.hex}function y(a,k,n){function u(){var b=Array.prototype.slice.call(arguments,0),c=b.join("\u2400"),d=
u.cache=u.cache||{},i=u.count=u.count||[];if(d[B](c)){a:for(var b=i,i=c,e=0,f=b.length;e<f;e++)if(b[e]===i){b.push(b.splice(e,1)[0]);break a}return n?n(d[c]):d[c]}1E3<=i.length&&delete d[i.shift()];i.push(c);d[c]=a[I](k,b);return n?n(d[c]):d[c]}return u}function f(a){if(f.is(a,"function"))return N?a():eve.on("DOMload",a);if(f.is(a,x))return f._engine.create[I](f,a.splice(0,3+f.is(a[0],t))).add(a);var k=Array.prototype.slice.call(arguments,0);if(f.is(k[k.length-1],"function")){var n=k.pop();return N?
n.call(f._engine.create[I](f,k)):eve.on("DOMload",function(){n.call(f._engine.create[I](f,k))})}return f._engine.create[I](f,arguments)}f.version="2.0.1";f.eve=eve;var N,P=/[, ]+/,H={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},m=/\{(\d+)\}/g,B="hasOwnProperty",j={doc:document,win:window},R=Object.prototype[B].call(j.win,"Raphael"),$=j.win.Raphael,O=function(){this.ca=this.customAttributes={}},A,I="apply",D="concat",M="createTouch"in j.doc,S=" ",E=String,d="split",o="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[d](S),
h={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},b=E.prototype.toLowerCase,c=Math,i=c.max,e=c.min,r=c.abs,l=c.pow,q=c.PI,t="number",x="array",Ta=Object.prototype.toString;f._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i;var Ua=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,
Va={NaN:1,Infinity:1,"-Infinity":1},Qa=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,la=c.round,L=parseFloat,W=parseInt,ya=E.prototype.toUpperCase,Na=f._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,
rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},ja=f._availableAnimAttrs={blur:t,"clip-rect":"csv",cx:t,cy:t,fill:"colour","fill-opacity":t,"font-size":t,height:t,opacity:t,path:"path",r:t,rx:t,ry:t,stroke:"colour","stroke-opacity":t,"stroke-width":t,transform:"transform",width:t,x:t,y:t},ma=/\s*,\s*/,Wa=
{hs:1,rg:1},Xa=/,?([achlmqrstvxz]),?/gi,Ya=/([achlmrqstvz])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/ig,Za=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/ig,za=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)\s*,?\s*/ig;f._radial_gradient=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;var ba={},Sa=function(a,k){return L(a)-L(k)},$a=function(){},Ra=function(a){return a},na=f._rectPath=function(a,k,n,u,b){return b?[["M",a+b,k],["l",n-2*b,0],["a",b,b,0,0,1,b,b],["l",0,u-2*b],["a",b,b,0,0,1,-b,b],["l",2*b-n,0],["a",
b,b,0,0,1,-b,-b],["l",0,2*b-u],["a",b,b,0,0,1,b,-b],["z"]]:[["M",a,k],["l",n,0],["l",0,u],["l",-n,0],["z"]]},Aa=function(a,k,n,u){null==u&&(u=n);return[["M",a,k],["m",0,-u],["a",n,u,0,1,1,0,2*u],["a",n,u,0,1,1,0,-2*u],["z"]]},oa=f._getPath={path:function(a){return a.attr("path")},circle:function(a){a=a.attrs;return Aa(a.cx,a.cy,a.r)},ellipse:function(a){a=a.attrs;return Aa(a.cx,a.cy,a.rx,a.ry)},rect:function(a){a=a.attrs;return na(a.x,a.y,a.width,a.height,a.r)},image:function(a){a=a.attrs;return na(a.x,
a.y,a.width,a.height)},text:function(a){a=a._getBBox();return na(a.x,a.y,a.width,a.height)}},Ba=f.mapPath=function(a,k){if(!k)return a;var n,u,b,c,d,i,e,a=aa(a);for(b=0,d=a.length;b<d;b++){e=a[b];for(c=1,i=e.length;c<i;c+=2)n=k.x(e[c],e[c+1]),u=k.y(e[c],e[c+1]),e[c]=n,e[c+1]=u}return a};f._g=j;f.type=j.win.SVGAngle||j.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if("VML"==f.type){var pa=j.doc.createElement("div"),da;pa.innerHTML='<v:shape adj="1"/>';
da=pa.firstChild;da.style.behavior="url(#default#VML)";if(!da||"object"!=typeof da.adj)return f.type="";pa=null}f.svg=!(f.vml="VML"==f.type);f._Paper=O;f.fn=A=O.prototype=f.prototype;f._id=0;f._oid=0;f.is=function(a,k){k=b.call(k);return"finite"==k?!Va[B](+a):"array"==k?a instanceof Array:"null"==k&&null===a||k==typeof a&&null!==a||"object"==k&&a===Object(a)||"array"==k&&Array.isArray&&Array.isArray(a)||Ta.call(a).slice(8,-1).toLowerCase()==k};f.angle=function(a,k,n,u,b,d){return null==b?(a-=n,k-=
u,!a&&!k?0:(180*c.atan2(-k,-a)/q+540)%360):f.angle(a,k,b,d)-f.angle(n,u,b,d)};f.rad=function(a){return a%360*q/180};f.deg=function(a){return 180*a/q%360};f.snapTo=function(a,k,n){n=f.is(n,"finite")?n:10;if(f.is(a,x))for(var u=a.length;u--;){if(r(a[u]-k)<=n)return a[u]}else{a=+a;u=k%a;if(u<n)return k-u;if(u>a-n)return k-u+a}return k};f.createUUID=function(a,k){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,k).toUpperCase()}}(/[xy]/g,function(a){var k=16*c.random()|0;return("x"==
a?k:k&3|8).toString(16)});f.setWindow=function(a){eve("setWindow",f,j.win,a);j.win=a;j.doc=j.win.document;f._engine.initWin&&f._engine.initWin(j.win)};var ea=function(a){if(f.vml){var k=/^\s+|\s+$/g,n;try{var u=new ActiveXObject("htmlfile");u.write("<body>");u.close();n=u.body}catch(b){n=createPopup().document.body}var c=n.createTextRange();ea=y(function(a){try{n.style.color=E(a).replace(k,"");var u=c.queryCommandValue("ForeColor");return"#"+("000000"+((u&255)<<16|u&65280|(u&16711680)>>>16).toString(16)).slice(-6)}catch(b){return"none"}})}else{var d=
j.doc.createElement("i");d.title="Rapha\u00ebl Colour Picker";d.style.display="none";j.doc.body.appendChild(d);ea=y(function(a){d.style.color=a;return j.doc.defaultView.getComputedStyle(d,"").getPropertyValue("color")})}return ea(a)},ab=function(){return"hsb("+[this.h,this.s,this.b]+")"},bb=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ca=function(){return this.hex},Da=function(a,k,n){null==k&&f.is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(n=a.b,k=a.g,a=a.r);if(null==k&&f.is(a,"string"))n=f.getRGB(a),
a=n.r,k=n.g,n=n.b;if(1<a||1<k||1<n)a/=255,k/=255,n/=255;return[a,k,n]},Ea=function(a,k,n,u){a*=255;k*=255;n*=255;a={r:a,g:k,b:n,hex:f.rgb(a,k,n),toString:Ca};f.is(u,"finite")&&(a.opacity=u);return a};f.color=function(a){var k;f.is(a,"object")&&"h"in a&&"s"in a&&"b"in a?(k=f.hsb2rgb(a),a.r=k.r,a.g=k.g,a.b=k.b,a.hex=k.hex):f.is(a,"object")&&"h"in a&&"s"in a&&"l"in a?(k=f.hsl2rgb(a),a.r=k.r,a.g=k.g,a.b=k.b,a.hex=k.hex):(f.is(a,"string")&&(a=f.getRGB(a)),f.is(a,"object")&&"r"in a&&"g"in a&&"b"in a?(k=
f.rgb2hsl(a),a.h=k.h,a.s=k.s,a.l=k.l,k=f.rgb2hsb(a),a.v=k.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1));a.toString=Ca;return a};f.hsb2rgb=function(a,k,n,u){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(n=a.b,k=a.s,a=a.h,u=a.o);a*=360;var b,c,d,i,e;a=a%360/60;e=n*k;i=e*(1-r(a%2-1));b=c=d=n-e;a=~~a;b+=[e,i,0,0,i,e][a];c+=[i,e,e,i,0,0][a];d+=[0,0,i,e,e,i][a];return Ea(b,c,d,u)};f.hsl2rgb=function(a,k,n,u){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(n=a.l,k=a.s,a=a.h);if(1<a||1<k||1<n)a/=
360,k/=100,n/=100;var a=360*a,b,c,d,i,e;a=a%360/60;e=2*k*(0.5>n?n:1-n);i=e*(1-r(a%2-1));b=c=d=n-e/2;a=~~a;b+=[e,i,0,0,i,e][a];c+=[i,e,e,i,0,0][a];d+=[0,0,i,e,e,i][a];return Ea(b,c,d,u)};f.rgb2hsb=function(a,k,n){n=Da(a,k,n);a=n[0];k=n[1];n=n[2];var u,b,c;b=i(a,k,n);c=b-e(a,k,n);u=0==c?null:b==a?(k-n)/c:b==k?(n-a)/c+2:(a-k)/c+4;u=60*((u+360)%6)/360;a=0==c?0:c/b;return{h:u,s:a,b:b,toString:ab}};f.rgb2hsl=function(a,k,n){n=Da(a,k,n);a=n[0];k=n[1];n=n[2];var u,b,c,d,f;c=i(a,k,n);d=e(a,k,n);f=c-d;u=0==
f?null:c==a?(k-n)/f:c==k?(n-a)/f+2:(a-k)/f+4;u=60*((u+360)%6)/360;b=(c+d)/2;a=0==f?0:0.5>b?f/(2*b):f/(2-2*b);return{h:u,s:a,l:b,toString:bb}};f._path2string=function(){return this.join(",").replace(Xa,"$1")};f._preload=function(a,k){var n=j.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em";n.onload=function(){k.call(this);this.onload=null;j.doc.body.removeChild(this)};n.onerror=function(){j.doc.body.removeChild(this)};j.doc.body.appendChild(n);n.src=a};f.getRGB=
y(function(a){if(!a||(a=E(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:F};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:F};!Wa[B](a.toLowerCase().substring(0,2))&&"#"!=a.charAt()&&(a=ea(a));var k,n,b,c,i,e;if(a=a.match(Ua)){a[2]&&(b=W(a[2].substring(5),16),n=W(a[2].substring(3,5),16),k=W(a[2].substring(1,3),16));a[3]&&(b=W((i=a[3].charAt(3))+i,16),n=W((i=a[3].charAt(2))+i,16),k=W((i=a[3].charAt(1))+i,16));a[4]&&(e=a[4][d](ma),k=L(e[0]),"%"==e[0].slice(-1)&&(k*=2.55),
n=L(e[1]),"%"==e[1].slice(-1)&&(n*=2.55),b=L(e[2]),"%"==e[2].slice(-1)&&(b*=2.55),"rgba"==a[1].toLowerCase().slice(0,4)&&(c=L(e[3])),e[3]&&"%"==e[3].slice(-1)&&(c/=100));if(a[5])return e=a[5][d](ma),k=L(e[0]),"%"==e[0].slice(-1)&&(k*=2.55),n=L(e[1]),"%"==e[1].slice(-1)&&(n*=2.55),b=L(e[2]),"%"==e[2].slice(-1)&&(b*=2.55),("deg"==e[0].slice(-3)||"\u00b0"==e[0].slice(-1))&&(k/=360),"hsba"==a[1].toLowerCase().slice(0,4)&&(c=L(e[3])),e[3]&&"%"==e[3].slice(-1)&&(c/=100),f.hsb2rgb(k,n,b,c);if(a[6])return e=
a[6][d](ma),k=L(e[0]),"%"==e[0].slice(-1)&&(k*=2.55),n=L(e[1]),"%"==e[1].slice(-1)&&(n*=2.55),b=L(e[2]),"%"==e[2].slice(-1)&&(b*=2.55),("deg"==e[0].slice(-3)||"\u00b0"==e[0].slice(-1))&&(k/=360),"hsla"==a[1].toLowerCase().slice(0,4)&&(c=L(e[3])),e[3]&&"%"==e[3].slice(-1)&&(c/=100),f.hsl2rgb(k,n,b,c);a={r:k,g:n,b:b,toString:F};a.hex="#"+(16777216|b|n<<8|k<<16).toString(16).slice(1);f.is(c,"finite")&&(a.opacity=c);return a}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:F}},f);f.hsb=y(function(a,
k,n){return f.hsb2rgb(a,k,n).hex});f.hsl=y(function(a,k,n){return f.hsl2rgb(a,k,n).hex});f.rgb=y(function(a,k,n){return"#"+(16777216|n|k<<8|a<<16).toString(16).slice(1)});f.getColor=function(a){var a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||0.75},k=this.hsb2rgb(a.h,a.s,a.b);a.h+=0.075;1<a.h&&(a.h=0,a.s-=0.2,0>=a.s&&(this.getColor.start={h:0,s:1,b:a.b}));return k.hex};f.getColor.reset=function(){delete this.start};f.parsePathString=y(function(a){if(!a)return null;var k={a:7,c:6,h:1,l:2,
m:2,r:4,q:4,s:4,t:2,v:1,z:0},n=[];f.is(a,x)&&f.is(a[0],x)&&(n=ca(a));n.length||E(a).replace(Ya,function(a,b,c){var d=[],a=b.toLowerCase();c.replace(za,function(a,k){k&&d.push(+k)});"m"==a&&2<d.length&&(n.push([b][D](d.splice(0,2))),a="l",b="m"==b?"l":"L");if("r"==a)n.push([b][D](d));else for(;d.length>=k[a]&&!(n.push([b][D](d.splice(0,k[a]))),!k[a]););});n.toString=f._path2string;return n});f.parseTransformString=y(function(a){if(!a)return null;var k=[];f.is(a,x)&&f.is(a[0],x)&&(k=ca(a));k.length||
E(a).replace(Za,function(a,u,c){var d=[];b.call(u);c.replace(za,function(a,k){k&&d.push(+k)});k.push([u][D](d))});k.toString=f._path2string;return k});f.findDotsAtSegment=function(a,k,n,b,d,e,i,f,g){var h=1-g,o=l(h,3),r=l(h,2),m=g*g,t=m*g,j=o*a+3*r*g*n+3*h*g*g*d+t*i,o=o*k+3*r*g*b+3*h*g*g*e+t*f,r=a+2*g*(n-a)+m*(d-2*n+a),t=k+2*g*(b-k)+m*(e-2*b+k),C=n+2*g*(d-n)+m*(i-2*d+n),m=b+2*g*(e-b)+m*(f-2*e+b),a=h*a+g*n,k=h*k+g*b,d=h*d+g*i,e=h*e+g*f,f=90-180*c.atan2(r-C,t-m)/q;(r>C||t<m)&&(f+=180);return{x:j,y:o,
m:{x:r,y:t},n:{x:C,y:m},start:{x:a,y:k},end:{x:d,y:e},alpha:f}};f._removedFactory=function(a){return function(){throw Error("Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object");}};var Fa=y(function(a){if(!a)return{x:0,y:0,width:0,height:0};for(var a=aa(a),k=0,n=0,b=[],c=[],d,f=0,g=a.length;f<g;f++)d=a[f],"M"==d[0]?(k=d[1],n=d[2],b.push(k),c.push(n)):(k=cb(k,n,d[1],d[2],d[3],d[4],d[5],d[6]),b=b[D](k.min.x,k.max.x),c=c[D](k.min.y,k.max.y),k=d[5],n=d[6]);a=e[I](0,b);d=e[I](0,
c);return{x:a,y:d,width:i[I](0,b)-a,height:i[I](0,c)-d}},null,function(a){return{x:a.x,y:a.y,width:a.width,height:a.height}}),ca=function(a){var k=[];if(!f.is(a,x)||!f.is(a&&a[0],x))a=f.parsePathString(a);for(var b=0,u=a.length;b<u;b++){k[b]=[];for(var c=0,d=a[b].length;c<d;c++)k[b][c]=a[b][c]}k.toString=f._path2string;return k},db=f._pathToRelative=y(function(a){if(!f.is(a,x)||!f.is(a&&a[0],x))a=f.parsePathString(a);var k=[],n=0,c=0,d=0,e=0,i=0;"M"==a[0][0]&&(n=a[0][1],c=a[0][2],d=n,e=c,i++,k.push(["M",
n,c]));for(var g=a.length;i<g;i++){var h=k[i]=[],l=a[i];if(l[0]!=b.call(l[0]))switch(h[0]=b.call(l[0]),h[0]){case "a":h[1]=l[1];h[2]=l[2];h[3]=l[3];h[4]=l[4];h[5]=l[5];h[6]=+(l[6]-n).toFixed(3);h[7]=+(l[7]-c).toFixed(3);break;case "v":h[1]=+(l[1]-c).toFixed(3);break;case "m":d=l[1],e=l[2];default:for(var o=1,r=l.length;o<r;o++)h[o]=+(l[o]-(o%2?n:c)).toFixed(3)}else{k[i]=[];"m"==l[0]&&(d=l[1]+n,e=l[2]+c);h=0;for(o=l.length;h<o;h++)k[i][h]=l[h]}l=k[i].length;switch(k[i][0]){case "z":n=d;c=e;break;case "h":n+=
+k[i][l-1];break;case "v":c+=+k[i][l-1];break;default:n+=+k[i][l-2],c+=+k[i][l-1]}}k.toString=f._path2string;return k},0,ca),Ga=f._pathToAbsolute=y(function(a){if(!f.is(a,x)||!f.is(a&&a[0],x))a=f.parsePathString(a);if(!a||!a.length)return[["M",0,0]];var k=[],b=0,c=0,d=0,e=0,i=0;"M"==a[0][0]&&(b=+a[0][1],c=+a[0][2],d=b,e=c,i++,k[0]=["M",b,c]);for(var g,l=i,h=a.length;l<h;l++){k.push(i=[]);g=a[l];if(g[0]!=ya.call(g[0]))switch(i[0]=ya.call(g[0]),i[0]){case "A":i[1]=g[1];i[2]=g[2];i[3]=g[3];i[4]=g[4];
i[5]=g[5];i[6]=+(g[6]+b);i[7]=+(g[7]+c);break;case "V":i[1]=+g[1]+c;break;case "H":i[1]=+g[1]+b;break;case "R":for(var o=[b,c][D](g.slice(1)),r=2,q=o.length;r<q;r++)o[r]=+o[r]+b,o[++r]=+o[r]+c;k.pop();k=k[D](z(o));break;case "M":d=+g[1]+b,e=+g[2]+c;default:for(r=1,q=g.length;r<q;r++)i[r]=+g[r]+(r%2?b:c)}else if("R"==g[0])o=[b,c][D](g.slice(1)),k.pop(),k=k[D](z(o)),i=["R"][D](g.slice(-2));else{r=0;for(q=g.length;r<q;r++)i[r]=g[r]}switch(i[0]){case "Z":b=d;c=e;break;case "H":b=i[1];break;case "V":c=
i[1];break;case "M":d=i[i.length-2],e=i[i.length-1];default:b=i[i.length-2],c=i[i.length-1]}}k.toString=f._path2string;return k},null,ca),Ha=function(a,k,b,c,d,i){var e=1/3,f=2/3;return[e*a+f*b,e*k+f*c,e*d+f*b,e*i+f*c,d,i]},Ia=function(a,k,b,u,i,e,f,g,l,h){var o=120*q/180,m=q/180*(+i||0),t=[],j,p=y(function(a,b,k){var n=a*c.cos(k)-b*c.sin(k),a=a*c.sin(k)+b*c.cos(k);return{x:n,y:a}});if(h)w=h[0],j=h[1],e=h[2],C=h[3];else{j=p(a,k,-m);a=j.x;k=j.y;j=p(g,l,-m);g=j.x;l=j.y;c.cos(q/180*i);c.sin(q/180*i);
j=(a-g)/2;w=(k-l)/2;C=j*j/(b*b)+w*w/(u*u);1<C&&(C=c.sqrt(C),b*=C,u*=C);var C=b*b,x=u*u,C=(e==f?-1:1)*c.sqrt(r((C*x-C*w*w-x*j*j)/(C*w*w+x*j*j))),e=C*b*w/u+(a+g)/2,C=C*-u*j/b+(k+l)/2,w=c.asin(((k-C)/u).toFixed(9));j=c.asin(((l-C)/u).toFixed(9));w=a<e?q-w:w;j=g<e?q-j:j;0>w&&(w=2*q+w);0>j&&(j=2*q+j);f&&w>j&&(w-=2*q);!f&&j>w&&(j-=2*q)}if(r(j-w)>o){var t=j,x=g,s=l;j=w+o*(f&&j>w?1:-1);g=e+b*c.cos(j);l=C+u*c.sin(j);t=Ia(g,l,b,u,i,0,f,x,s,[j,t,e,C])}e=j-w;i=c.cos(w);o=c.sin(w);f=c.cos(j);j=c.sin(j);e=c.tan(e/
4);b=4/3*b*e;e*=4/3*u;u=[a,k];a=[a+b*o,k-e*i];k=[g+b*j,l-e*f];g=[g,l];a[0]=2*u[0]-a[0];a[1]=2*u[1]-a[1];if(h)return[a,k,g][D](t);t=[a,k,g][D](t).join()[d](",");h=[];g=0;for(l=t.length;g<l;g++)h[g]=g%2?p(t[g-1],t[g],m).y:p(t[g],t[g+1],m).x;return h},fa=function(a,b,n,c,d,i,e,f,g){var h=1-g;return{x:l(h,3)*a+3*l(h,2)*g*n+3*h*g*g*d+l(g,3)*e,y:l(h,3)*b+3*l(h,2)*g*c+3*h*g*g*i+l(g,3)*f}},cb=y(function(a,b,n,d,g,f,l,h){var o=g-2*n+a-(l-2*g+n),q=2*(n-a)-2*(g-n),j=a-n,m=(-q+c.sqrt(q*q-4*o*j))/2/o,t=(-q-c.sqrt(q*
q-4*o*j))/2/o,p=[b,h],x=[a,l],C;"1e12"<r(m)&&(m=0.5);"1e12"<r(t)&&(t=0.5);0<m&&1>m&&(C=fa(a,b,n,d,g,f,l,h,m),x.push(C.x),p.push(C.y));0<t&&1>t&&(C=fa(a,b,n,d,g,f,l,h,t),x.push(C.x),p.push(C.y));o=f-2*d+b-(h-2*f+d);q=2*(d-b)-2*(f-d);j=b-d;m=(-q+c.sqrt(q*q-4*o*j))/2/o;t=(-q-c.sqrt(q*q-4*o*j))/2/o;"1e12"<r(m)&&(m=0.5);"1e12"<r(t)&&(t=0.5);0<m&&1>m&&(C=fa(a,b,n,d,g,f,l,h,m),x.push(C.x),p.push(C.y));0<t&&1>t&&(C=fa(a,b,n,d,g,f,l,h,t),x.push(C.x),p.push(C.y));return{min:{x:e[I](0,x),y:e[I](0,p)},max:{x:i[I](0,
x),y:i[I](0,p)}}}),aa=f._path2curve=y(function(a,b){var n=Ga(a),c=b&&Ga(b),d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=function(a,b){var k,c;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"][D](Ia[I](0,[b.x,b.y][D](a.slice(1))));break;case "S":k=b.x+(b.x-(b.bx||b.x));c=b.y+(b.y-(b.by||b.y));a=["C",k,c][D](a.slice(1));break;case "T":b.qx=b.x+(b.x-(b.qx||b.x));
b.qy=b.y+(b.y-(b.qy||b.y));a=["C"][D](Ha(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"][D](Ha(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"][D]([b.x,b.y,a[1],a[2],a[1],a[2]]);break;case "H":a=["C"][D]([b.x,b.y,a[1],b.y,a[1],b.y]);break;case "V":a=["C"][D]([b.x,b.y,b.x,a[1],b.x,a[1]]);break;case "Z":a=["C"][D]([b.x,b.y,b.X,b.Y,b.X,b.Y])}return a},f=function(a,b){if(7<a[b].length){a[b].shift();for(var k=a[b];k.length;)a.splice(b++,0,["C"][D](k.splice(0,6)));a.splice(b,
1);o=i(n.length,c&&c.length||0)}},l=function(a,b,k,d,e){a&&b&&"M"==a[e][0]&&"M"!=b[e][0]&&(b.splice(e,0,["M",d.x,d.y]),k.bx=0,k.by=0,k.x=a[e][1],k.y=a[e][2],o=i(n.length,c&&c.length||0))},h=0,o=i(n.length,c&&c.length||0);for(;h<o;h++){n[h]=g(n[h],d);f(n,h);c&&(c[h]=g(c[h],e));c&&f(c,h);l(n,c,d,e,h);l(c,n,e,d,h);var r=n[h],q=c&&c[h],j=r.length,m=c&&q.length;d.x=r[j-2];d.y=r[j-1];d.bx=L(r[j-4])||d.x;d.by=L(r[j-3])||d.y;e.bx=c&&(L(q[m-4])||e.x);e.by=c&&(L(q[m-3])||e.y);e.x=c&&q[m-2];e.y=c&&q[m-1]}return c?
[n,c]:n},null,ca);f._parseDots=y(function(a){for(var b=[],c=0,d=a.length;c<d;c++){var e={},i=a[c].match(/^([^:]*):?([\d\.]*)/);e.color=f.getRGB(i[1]);if(e.color.error)return null;e.color=e.color.hex;i[2]&&(e.offset=i[2]+"%");b.push(e)}for(c=1,d=b.length-1;c<d;c++)if(!b[c].offset){a=L(b[c-1].offset||0);i=0;for(e=c+1;e<d;e++)if(b[e].offset){i=b[e].offset;break}i||(i=100,e=d);i=L(i);for(i=(i-a)/(e-c+1);c<e;c++)a+=i,b[c].offset=a+"%"}return b});var ga=f._tear=function(a,b){a==b.top&&(b.top=a.prev);a==
b.bottom&&(b.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)};f._tofront=function(a,b){b.top!==a&&(ga(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)};f._toback=function(a,b){b.bottom!==a&&(ga(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)};f._insertafter=function(a,b,c){ga(a,c);b==c.top&&(c.top=a);b.next&&(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a};f._insertbefore=function(a,b,c){ga(a,c);b==c.bottom&&(c.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;
b.prev=a;a.next=b};var Pa=f._extractTransform=function(a,b){if(null==b)return a._.transform;var b=E(b).replace(/\.{3}|\u2026/g,a._.transform||""),c=f.parseTransformString(b),d=0,e=0,i=0,g=1,h=1,l=a._,o=new p;l.transform=c||[];if(c)for(var r=0,q=c.length;r<q;r++){var j=c[r],m=j.length,t=E(j[0]).toLowerCase(),x=j[0]!=t,s=x?o.invert():0,w,z,B,y,v;"t"==t&&3==m?x?(w=s.x(0,0),z=s.y(0,0),B=s.x(j[1],j[2]),y=s.y(j[1],j[2]),o.translate(B-w,y-z)):o.translate(j[1],j[2]):"r"==t?2==m?(v=v||a.getBBox(1),o.rotate(j[1],
v.x+v.width/2,v.y+v.height/2),d+=j[1]):4==m&&(x?(B=s.x(j[2],j[3]),y=s.y(j[2],j[3]),o.rotate(j[1],B,y)):o.rotate(j[1],j[2],j[3]),d+=j[1]):"s"==t?2==m||3==m?(v=v||a.getBBox(1),o.scale(j[1],j[m-1],v.x+v.width/2,v.y+v.height/2),g*=j[1],h*=j[m-1]):5==m&&(x?(B=s.x(j[3],j[4]),y=s.y(j[3],j[4]),o.scale(j[1],j[2],B,y)):o.scale(j[1],j[2],j[3],j[4]),g*=j[1],h*=j[2]):"m"==t&&7==m&&o.add(j[1],j[2],j[3],j[4],j[5],j[6]);l.dirtyT=1;a.matrix=o}a.matrix=o;l.sx=g;l.sy=h;l.deg=d;l.dx=e=o.e;l.dy=i=o.f;1==g&&1==h&&!d&&
l.bbox?(l.bbox.x+=+e,l.bbox.y+=+i):l.dirtyT=1},Ja=function(a){var b=a[0];switch(b.toLowerCase()){case "t":return[b,0,0];case "m":return[b,1,0,0,1,0,0];case "r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case "s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}},Oa=f._equaliseTransform=function(a,b){b=E(b).replace(/\.{3}|\u2026/g,a);a=f.parseTransformString(a)||[];b=f.parseTransformString(b)||[];for(var c=i(a.length,b.length),d=[],e=[],g=0,h,l,o,j;g<c;g++){o=a[g]||Ja(b[g]);j=b[g]||Ja(o);
if(o[0]!=j[0]||"r"==o[0].toLowerCase()&&(o[2]!=j[2]||o[3]!=j[3])||"s"==o[0].toLowerCase()&&(o[3]!=j[3]||o[4]!=j[4]))return;d[g]=[];e[g]=[];for(h=0,l=i(o.length,j.length);h<l;h++)h in o&&(d[g][h]=o[h]),h in j&&(e[g][h]=j[h])}return{from:d,to:e}};f._getContainer=function(a,b,c,d){var e;e=null==d&&!f.is(a,"object")?j.doc.getElementById(a):a;if(null!=e)return e.tagName?null==b?{container:e,width:e.style.pixelWidth||e.offsetWidth,height:e.style.pixelHeight||e.offsetHeight}:{container:e,width:b,height:c}:
{container:1,x:a,y:b,width:c,height:d}};f.pathToRelative=db;f._engine={};f.path2curve=aa;f.matrix=function(a,b,c,d,e,i){return new p(a,b,c,d,e,i)};(function(a){function b(a){var k=c.sqrt(n(a));a[0]&&(a[0]/=k);a[1]&&(a[1]/=k)}function n(a){return a[0]*a[0]+a[1]*a[1]}a.add=function(a,b,c,k,d,n){var e=[[],[],[]],i=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],b=[[a,c,d],[b,k,n],[0,0,1]];a&&a instanceof p&&(b=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(c=0;3>c;c++){for(k=d=0;3>
k;k++)d+=i[a][k]*b[k][c];e[a][c]=d}this.a=e[0][0];this.b=e[1][0];this.c=e[0][1];this.d=e[1][1];this.e=e[0][2];this.f=e[1][2]};a.invert=function(){var a=this.a*this.d-this.b*this.c;return new p(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};a.clone=function(){return new p(this.a,this.b,this.c,this.d,this.e,this.f)};a.translate=function(a,b){this.add(1,0,0,1,a,b)};a.scale=function(a,b,c,k){null==b&&(b=a);(c||k)&&this.add(1,0,0,1,c,k);this.add(a,
0,0,b,0,0);(c||k)&&this.add(1,0,0,1,-c,-k)};a.rotate=function(a,b,k){a=f.rad(a);b=b||0;k=k||0;var d=+c.cos(a).toFixed(9),a=+c.sin(a).toFixed(9);this.add(d,a,-a,d,b,k);this.add(1,0,0,1,-b,-k)};a.x=function(a,b){return a*this.a+b*this.c+this.e};a.y=function(a,b){return a*this.b+b*this.d+this.f};a.get=function(a){return+this[E.fromCharCode(97+a)].toFixed(4)};a.toString=function(){return f.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),
this.get(2),this.get(1),this.get(3),0,0].join()};a.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};a.split=function(){var a={};a.dx=this.e;a.dy=this.f;var d=[[this.a,this.c],[this.b,this.d]];a.scalex=c.sqrt(n(d[0]));b(d[0]);a.shear=d[0][0]*d[1][0]+d[0][1]*d[1][1];
d[1]=[d[1][0]-d[0][0]*a.shear,d[1][1]-d[0][1]*a.shear];a.scaley=c.sqrt(n(d[1]));b(d[1]);a.shear/=a.scaley;var e=-d[0][1],d=d[1][1];0>d?(a.rotate=f.deg(c.acos(d)),0>e&&(a.rotate=360-a.rotate)):a.rotate=f.deg(c.asin(e));a.isSimple=!+a.shear.toFixed(9)&&(a.scalex.toFixed(9)==a.scaley.toFixed(9)||!a.rotate);a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate;a.noRotation=!+a.shear.toFixed(9)&&!a.rotate;return a};a.toTransformString=function(a){a=a||this[d]();return a.isSimple?
(a.scalex=+a.scalex.toFixed(4),a.scaley=+a.scaley.toFixed(4),a.rotate=+a.rotate.toFixed(4),(a.dx&&a.dy?"t"+[a.dx,a.dy]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[a.rotate,0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}})(p.prototype);var ha=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(ha&&4>ha[1]||"iP"==navigator.platform.slice(0,2))||"Google Inc."==
navigator.vendor&&ha&&8>ha[1]?A.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:A.safari=$a;for(var eb=function(){this.returnValue=!1},fb=function(){return this.originalEvent.preventDefault()},gb=function(){this.cancelBubble=!0},hb=function(){return this.originalEvent.stopPropagation()},ib=function(){if(j.doc.addEventListener)return function(a,b,c,d){var e=M&&h[b]?h[b]:b,i=function(e){var i=e.clientX+(j.doc.documentElement.scrollLeft||
j.doc.body.scrollLeft),g=e.clientY+(j.doc.documentElement.scrollTop||j.doc.body.scrollTop);if(M&&h[B](b))for(var f=0,l=e.targetTouches&&e.targetTouches.length;f<l;f++)if(e.targetTouches[f].target==a){l=e;e=e.targetTouches[f];e.originalEvent=l;e.preventDefault=fb;e.stopPropagation=hb;break}return c.call(d,e,i,g)};a.addEventListener(e,i,!1);return function(){a.removeEventListener(e,i,!1);return!0}};if(j.doc.attachEvent)return function(a,b,c,d){var e=function(a){var a=a||j.win.event,b=a.clientX+(j.doc.documentElement.scrollLeft||
j.doc.body.scrollLeft),k=a.clientY+(j.doc.documentElement.scrollTop||j.doc.body.scrollTop);a.preventDefault=a.preventDefault||eb;a.stopPropagation=a.stopPropagation||gb;return c.call(d,a,b,k)};a.attachEvent("on"+b,e);return function(){a.detachEvent("on"+b,e);return!0}}}(),X=[],qa=function(a){for(var b=a.clientX,c=a.clientY,d=j.doc.documentElement.scrollTop||j.doc.body.scrollTop,e=j.doc.documentElement.scrollLeft||j.doc.body.scrollLeft,i,g=X.length;g--;){i=X[g];if(M)for(var f=a.touches.length,h;f--;){if(h=
a.touches[f],h.identifier==i.el._drag.id){b=h.clientX;c=h.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var f=i.el.node,l;h=f.nextSibling;var o=f.parentNode,r=f.style.display;j.win.opera&&o.removeChild(f);f.style.display="none";l=i.el.paper.getElementByPoint(b,c);f.style.display=r;j.win.opera&&(h?o.insertBefore(f,h):o.appendChild(f));l&&eve("drag.over."+i.el.id,i.el,l);b+=e;c+=d;eve("drag.move."+i.el.id,i.move_scope||i.el,b-i.el._drag.x,c-i.el._drag.y,
b,c,a)}},ra=function(a){f.unmousemove(qa).unmouseup(ra);for(var b=X.length,c;b--;)c=X[b],c.el._drag={},eve("drag.end."+c.el.id,c.end_scope||c.start_scope||c.move_scope||c.el,a);X=[]},J=f.el={},Ka=o.length;Ka--;)(function(a){f[a]=J[a]=function(b,c){f.is(b,"function")&&(this.events=this.events||[],this.events.push({name:a,f:b,unbind:ib(this.shape||this.node||j.doc,a,b,c||this)}));return this};f["un"+a]=J["un"+a]=function(b){for(var c=this.events,d=c.length;d--;)if(c[d].name==a&&c[d].f==b){c[d].unbind();
c.splice(d,1);!c.length&&delete this.events;break}return this}})(o[Ka]);J.data=function(a,b){var c=ba[this.id]=ba[this.id]||{};if(1==arguments.length){if(f.is(a,"object")){for(var d in a)a[B](d)&&this.data(d,a[d]);return this}eve("data.get."+this.id,this,c[a],a);return c[a]}c[a]=b;eve("data.set."+this.id,this,b,a);return this};J.removeData=function(a){null==a?ba[this.id]={}:ba[this.id]&&delete ba[this.id][a];return this};J.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)};J.unhover=
function(a,b){return this.unmouseover(a).unmouseout(b)};var Y=[];J.drag=function(a,b,c,d,e,i){function g(h){(h.originalEvent||h).preventDefault();var l=j.doc.documentElement.scrollTop||j.doc.body.scrollTop,o=j.doc.documentElement.scrollLeft||j.doc.body.scrollLeft;this._drag.x=h.clientX+o;this._drag.y=h.clientY+l;this._drag.id=h.identifier;!X.length&&f.mousemove(qa).mouseup(ra);X.push({el:this,move_scope:d,start_scope:e,end_scope:i});b&&eve.on("drag.start."+this.id,b);a&&eve.on("drag.move."+this.id,
a);c&&eve.on("drag.end."+this.id,c);eve("drag.start."+this.id,e||d||this,h.clientX+o,h.clientY+l,h)}this._drag={};Y.push({el:this,start:g});this.mousedown(g);return this};J.onDragOver=function(a){a?eve.on("drag.over."+this.id,a):eve.unbind("drag.over."+this.id)};J.undrag=function(){for(var a=Y.length;a--;)Y[a].el==this&&(this.unmousedown(Y[a].start),Y.splice(a,1),eve.unbind("drag.*."+this.id));!Y.length&&f.unmousemove(qa).unmouseup(ra)};A.circle=function(a,b,c){a=f._engine.circle(this,a||0,b||0,c||
0);this.__set__&&this.__set__.push(a);return a};A.rect=function(a,b,c,d,e){a=f._engine.rect(this,a||0,b||0,c||0,d||0,e||0);this.__set__&&this.__set__.push(a);return a};A.ellipse=function(a,b,c,d){a=f._engine.ellipse(this,a||0,b||0,c||0,d||0);this.__set__&&this.__set__.push(a);return a};A.path=function(a){a&&!f.is(a,"string")&&!f.is(a[0],x)&&(a+="");var b=f._engine.path(f.format[I](f,arguments),this);this.__set__&&this.__set__.push(b);return b};A.image=function(a,b,c,d,e){a=f._engine.image(this,a||
"about:blank",b||0,c||0,d||0,e||0);this.__set__&&this.__set__.push(a);return a};A.text=function(a,b,c){a=f._engine.text(this,a||0,b||0,E(c));this.__set__&&this.__set__.push(a);return a};A.set=function(a){!f.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));var b=new Z(a);this.__set__&&this.__set__.push(b);return b};A.setStart=function(a){this.__set__=a||this.set()};A.setFinish=function(){var a=this.__set__;delete this.__set__;return a};A.setSize=function(a,b){return f._engine.setSize.call(this,
a,b)};A.setViewBox=function(a,b,c,d,e){return f._engine.setViewBox.call(this,a,b,c,d,e)};A.top=A.bottom=null;A.raphael=f;A.getElementByPoint=function(a,b){var c,d,e=this.canvas,i=j.doc.elementFromPoint(a,b);if(j.win.opera&&"svg"==i.tagName){d=e.getBoundingClientRect();c=e.ownerDocument;var g=c.body,f=c.documentElement;c=d.top+(j.win.pageYOffset||f.scrollTop||g.scrollTop)-(f.clientTop||g.clientTop||0);d=d.left+(j.win.pageXOffset||f.scrollLeft||g.scrollLeft)-(f.clientLeft||g.clientLeft||0);g=e.createSVGRect();
g.x=a-d;g.y=b-c;g.width=g.height=1;c=e.getIntersectionList(g,null);c.length&&(i=c[c.length-1])}if(!i)return null;for(;i.parentNode&&i!=e.parentNode&&!i.raphael;)i=i.parentNode;i==this.canvas.parentNode&&(i=e);i=i&&i.raphael?this.getById(i.raphaelid):null;return i};A.getById=function(a){for(var b=this.bottom;b;){if(b.id==a)return b;b=b.next}return null};A.forEach=function(a,b){for(var c=this.bottom;c&&!(!1===a.call(b,c));)c=c.next;return this};J.getBBox=function(a){if(this.removed)return{};var b=this._;
if(a){if(b.dirty||!b.bboxwt)this.realPath=oa[this.type](this),b.bboxwt=Fa(this.realPath),b.bboxwt.toString=G,b.dirty=0;return b.bboxwt}if(b.dirty||b.dirtyT||!b.bbox){if(b.dirty||!this.realPath)b.bboxwt=0,this.realPath=oa[this.type](this);b.bbox=Fa(Ba(this.realPath,this.matrix));b.bbox.toString=G;b.dirty=b.dirtyT=0}return b.bbox};J.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(a);return a};J.glow=function(a){if("text"==
this.type)return null;for(var a=a||{},b=(a.width||10)+(+this.attr("stroke-width")||1),c=a.fill||!1,d=a.opacity||0.5,e=a.offsetx||0,i=a.offsety||0,a=a.color||"#000",g=b/2,f=this.paper,h=f.set(),l=this.realPath||oa[this.type](this),l=this.matrix?Ba(l,this.matrix):l,o=1;o<g+1;o++)h.push(f.path(l).attr({stroke:a,fill:c?a:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(b/g*o).toFixed(3),opacity:+(d/g).toFixed(3)}));return h.insertBefore(this).translate(e,i)};var sa={},ia=function(a,
b,c,d,e,i,g,h,o){var j=0,r=100,q=[a,b,c,d,e,i,g,h].join(),m=sa[q],t,x;!m&&(sa[q]=m={data:[]});m.timer&&clearTimeout(m.timer);m.timer=setTimeout(function(){delete sa[q]},2E3);if(null!=o&&!m.precision){var p=ia(a,b,c,d,e,i,g,h);m.precision=10*~~p;m.data=[]}r=m.precision||r;for(p=0;p<r+1;p++){m.data[p*r]?x=m.data[p*r]:(x=f.findDotsAtSegment(a,b,c,d,e,i,g,h,p/r),m.data[p*r]=x);p&&(j+=l(l(t.x-x.x,2)+l(t.y-x.y,2),0.5));if(null!=o&&j>=o)return x;t=x}if(null==o)return j},ta=function(a,b){return function(c,
d,e){for(var c=aa(c),i,g,h,l,o="",j={},r,q=0,m=0,t=c.length;m<t;m++){h=c[m];if("M"==h[0])i=+h[1],g=+h[2];else{l=ia(i,g,h[1],h[2],h[3],h[4],h[5],h[6]);if(q+l>d){if(b&&!j.start){r=ia(i,g,h[1],h[2],h[3],h[4],h[5],h[6],d-q);o+=["C"+r.start.x,r.start.y,r.m.x,r.m.y,r.x,r.y];if(e)return o;j.start=o;o=["M"+r.x,r.y+"C"+r.n.x,r.n.y,r.end.x,r.end.y,h[5],h[6]].join();q+=l;i=+h[5];g=+h[6];continue}if(!a&&!b)return r=ia(i,g,h[1],h[2],h[3],h[4],h[5],h[6],d-q),{x:r.x,y:r.y,alpha:r.alpha}}q+=l;i=+h[5];g=+h[6]}o+=
h.shift()+h}j.end=o;r=a?q:b?j:f.findDotsAtSegment(i,g,h[0],h[1],h[2],h[3],h[4],h[5],1);r.alpha&&(r={x:r.x,y:r.y,alpha:r.alpha});return r}},La=ta(1),Ma=ta(),ua=ta(0,1);f.getTotalLength=La;f.getPointAtLength=Ma;f.getSubpath=function(a,b,c){if(1.0E-6>this.getTotalLength(a)-c)return ua(a,b).end;a=ua(a,c,1);return b?ua(a,b).end:a};J.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():La(this.attrs.path)};J.getPointAtLength=function(a){if("path"==this.type)return Ma(this.attrs.path,
a)};J.getSubpath=function(a,b){if("path"==this.type)return f.getSubpath(this.attrs.path,a,b)};var T=f.easing_formulas={linear:function(a){return a},"<":function(a){return l(a,1.7)},">":function(a){return l(a,0.48)},"<>":function(a){var b=0.48-a/1.04,d=c.sqrt(0.1734+b*b),a=d-b,a=l(r(a),1/3)*(0>a?-1:1),b=-d-b,b=l(r(b),1/3)*(0>b?-1:1),a=a+b+0.5;return 3*(1-a)*a*a+a*a*a},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){return a==
!!a?a:l(2,-10*a)*c.sin(2*(a-0.075)*q/0.3)+1},bounce:function(a){var b;a<1/2.75?b=7.5625*a*a:a<2/2.75?(a-=1.5/2.75,b=7.5625*a*a+0.75):a<2.5/2.75?(a-=2.25/2.75,b=7.5625*a*a+0.9375):(a-=2.625/2.75,b=7.5625*a*a+0.984375);return b}};T.easeIn=T["ease-in"]=T["<"];T.easeOut=T["ease-out"]=T[">"];T.easeInOut=T["ease-in-out"]=T["<>"];T["back-in"]=T.backIn;T["back-out"]=T.backOut;var K=[],xa=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||
window.msRequestAnimationFrame||function(a){setTimeout(a,16)},ka=function(){for(var a=+new Date,b=0;b<K.length;b++){var c=K[b];if(!c.el.removed&&!c.paused){var d=a-c.start,e=c.ms,i=c.easing,h=c.from,l=c.diff,o=c.to,r=c.el,j={},q,m={},x;c.initstatus?(d=(c.initstatus*c.anim.top-c.prev)/(c.percent-c.prev)*e,c.status=c.initstatus,delete c.initstatus,c.stop&&K.splice(b--,1)):c.status=(c.prev+(c.percent-c.prev)*(d/e))/c.anim.top;if(!(0>d))if(d<e){var p=i(d/e),s;for(s in h)if(h[B](s)){switch(ja[s]){case t:q=
+h[s]+p*e*l[s];break;case "colour":q="rgb("+[va(la(h[s].r+p*e*l[s].r)),va(la(h[s].g+p*e*l[s].g)),va(la(h[s].b+p*e*l[s].b))].join()+")";break;case "path":q=[];d=0;for(i=h[s].length;d<i;d++){q[d]=[h[s][d][0]];o=1;for(m=h[s][d].length;o<m;o++)q[d][o]=+h[s][d][o]+p*e*l[s][d][o];q[d]=q[d].join(S)}q=q.join(S);break;case "transform":if(l[s].real){q=[];for(d=0,i=h[s].length;d<i;d++){q[d]=[h[s][d][0]];for(o=1,m=h[s][d].length;o<m;o++)q[d][o]=h[s][d][o]+p*e*l[s][d][o]}}else q=function(a){return+h[s][a]+p*e*
l[s][a]},q=[["m",q(0),q(1),q(2),q(3),q(4),q(5)]];break;case "csv":if("clip-rect"==s)for(q=[],d=4;d--;)q[d]=+h[s][d]+p*e*l[s][d];break;default:i=[][D](h[s]);for(q=[],d=r.paper.customAttributes[s].length;d--;)q[d]=+i[d]+p*e*l[s][d]}j[s]=q}r.attr(j);(function(a,b,c){setTimeout(function(){eve("anim.frame."+a,b,c)})})(r.id,r,c.anim)}else{(function(a,b,c){setTimeout(function(){eve("anim.frame."+b.id,b,c);eve("anim.finish."+b.id,b,c);f.is(a,"function")&&a.call(b)})})(c.callback,r,c.anim);r.attr(o);K.splice(b--,
1);if(1<c.repeat&&!c.next){for(x in o)o[B](x)&&(m[x]=c.totalOrigin[x]);c.el.attr(m);g(c.anim,c.el,c.anim.percents[0],null,c.totalOrigin,c.repeat-1)}c.next&&!c.stop&&g(c.anim,c.el,c.next,null,c.totalOrigin,c.repeat)}}}f.svg&&r&&r.paper&&r.paper.safari();K.length&&xa(ka)},va=function(a){return 255<a?255:0>a?0:a};J.animateWith=function(a,b,c,d,e,i){c=c?f.animation(c,d,e,i):b;a=a.status(b);return this.animate(c).status(c,a*b.ms/c.ms)};J.onAnimation=function(a){a?eve.on("anim.frame."+this.id,a):eve.unbind("anim.frame."+
this.id);return this};v.prototype.delay=function(a){var b=new v(this.anim,this.ms);b.times=this.times;b.del=+a||0;return b};v.prototype.repeat=function(a){var b=new v(this.anim,this.ms);b.del=this.del;b.times=c.floor(i(a,0))||1;return b};f.animation=function(a,b,c,d){if(a instanceof v)return a;if(f.is(c,"function")||!c)d=d||c||null,c=null;a=Object(a);b=+b||0;var e={},i,h;for(h in a)a[B](h)&&L(h)!=h&&L(h)+"%"!=h&&(i=!0,e[h]=a[h]);if(!i)return new v(a,b);c&&(e.easing=c);d&&(e.callback=d);return new v({100:e},
b)};J.animate=function(a,b,c,d){if(this.removed)return d&&d.call(this),this;a=a instanceof v?a:f.animation(a,b,c,d);g(a,this,a.percents[0],null,this.attr());return this};J.setTime=function(a,b){a&&null!=b&&this.status(a,e(b,a.ms)/a.ms);return this};J.status=function(a,b){var c=[],d=0,i,h;if(null!=b)return g(a,this,-1,e(b,1)),this;for(i=K.length;d<i;d++)if(h=K[d],h.el.id==this.id&&(!a||h.anim==a)){if(a)return h.status;c.push({anim:h.anim,status:h.status})}return a?0:c};J.pause=function(a){for(var b=
0;b<K.length;b++)K[b].el.id==this.id&&(!a||K[b].anim==a)&&!1!==eve("anim.pause."+this.id,this,K[b].anim)&&(K[b].paused=!0);return this};J.resume=function(a){for(var b=0;b<K.length;b++)if(K[b].el.id==this.id&&(!a||K[b].anim==a)){var c=K[b];!1!==eve("anim.resume."+this.id,this,c.anim)&&(delete c.paused,this.status(c.anim,c.status))}return this};J.stop=function(a){for(var b=0;b<K.length;b++)K[b].el.id==this.id&&(!a||K[b].anim==a)&&!1!==eve("anim.stop."+this.id,this,K[b].anim)&&K.splice(b--,1);return this};
J.toString=function(){return"Rapha\u00ebl\u2019s object"};var Z=function(a){this.items=[];this.length=0;this.type="set";if(a)for(var b=0,c=a.length;b<c;b++)a[b]&&(a[b].constructor==J.constructor||a[b].constructor==Z)&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},Q=Z.prototype;Q.push=function(){for(var a,b,c=0,d=arguments.length;c<d;c++)a=arguments[c],a&&(a.constructor==J.constructor||a.constructor==Z)&&(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this};
Q.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};Q.forEach=function(a,b){for(var c=0,d=this.items.length;c<d&&!(!1===a.call(b,this.items[c],c));c++);return this};for(var wa in J)J[B](wa)&&(Q[wa]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][I](c,b)})}}(wa));Q.attr=function(a,b){if(a&&f.is(a,x)&&f.is(a[0],"object"))for(var c=0,d=a.length;c<d;c++)this.items[c].attr(a[c]);else{c=0;for(d=this.items.length;c<d;c++)this.items[c].attr(a,
b)}return this};Q.clear=function(){for(;this.length;)this.pop()};Q.splice=function(a,b,c){a=0>a?i(this.length+a,0):a;b=i(0,e(this.length-a,b));var d=[],h=[],g=[],f;for(f=2;f<arguments.length;f++)g.push(arguments[f]);for(f=0;f<b;f++)h.push(this[a+f]);for(;f<this.length-a;f++)d.push(this[a+f]);var l=g.length;for(f=0;f<l+d.length;f++)this.items[a+f]=this[a+f]=f<l?g[f]:d[f-l];for(f=this.items.length=this.length-=b-l;this[f];)delete this[f++];return new Z(h)};Q.exclude=function(a){for(var b=0,c=this.length;b<
c;b++)if(this[b]==a)return this.splice(b,1),!0};Q.animate=function(a,b,c,d){(f.is(c,"function")||!c)&&(d=c||null);var e=this.items.length,i=e,h=this,g;if(!e)return this;d&&(g=function(){!--e&&d.call(h)});c=f.is(c,"string")?c:g;b=f.animation(a,b,c,g);for(a=this.items[--i].animate(b);i--;)this.items[i]&&!this.items[i].removed&&this.items[i].animateWith(a,b);return this};Q.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this};Q.getBBox=function(){for(var a=
[],b=[],c=[],d=[],h=this.items.length;h--;)if(!this.items[h].removed){var g=this.items[h].getBBox();a.push(g.x);b.push(g.y);c.push(g.x+g.width);d.push(g.y+g.height)}a=e[I](0,a);b=e[I](0,b);return{x:a,y:b,width:i[I](0,c)-a,height:i[I](0,d)-b}};Q.clone=function(a){for(var a=new Z,b=0,c=this.items.length;b<c;b++)a.push(this.items[b].clone());return a};Q.toString=function(){return"Rapha\u00ebl\u2018s set"};f.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},
c=a.face["font-family"],d;for(d in a.face)a.face[B](d)&&(b.face[d]=a.face[d]);this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b];if(!a.svg){b.face["units-per-em"]=W(a.face["units-per-em"],10);for(var e in a.glyphs)if(a.glyphs[B](e)&&(c=a.glyphs[e],b.glyphs[e]={w:c.w,k:{},d:c.d&&"M"+c.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},c.k))for(var i in c.k)c[B](i)&&(b.glyphs[e].k[i]=c.k[i])}return a};A.getFont=function(a,b,c,d){d=d||"normal";c=c||"normal";
b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400;if(f.fonts){var e=f.fonts[a];if(!e){var a=RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i"),i;for(i in f.fonts)if(f.fonts[B](i)&&a.test(i)){e=f.fonts[i];break}}var h;if(e){i=0;for(a=e.length;i<a&&!(h=e[i],h.face["font-weight"]==b&&(h.face["font-style"]==c||!h.face["font-style"])&&h.face["font-stretch"]==d);i++);}return h}};A.print=function(a,b,c,h,g,l,o){l=l||"middle";o=i(e(o||0,1),-1);var r=this.set(),j=E(c)[d](""),q=0;f.is(h,
c)&&(h=this.getFont(h));if(h){for(var c=(g||16)/h.face["units-per-em"],m=h.face.bbox[d](P),g=+m[0],l=+m[1]+("baseline"==l?m[3]-m[1]+ +h.face.descent:(m[3]-m[1])/2),m=0,t=j.length;m<t;m++){var s=m&&h.glyphs[j[m-1]]||{},p=h.glyphs[j[m]];q+=m?(s.w||h.w)+(s.k&&s.k[j[m]]||0)+h.w*o:0;p&&p.d&&r.push(this.path(p.d).attr({fill:"#000",stroke:"none",transform:[["t",q*c,0]]}))}r.transform(["...s",c,c,g,l,"t",(a-g)/c,(b-l)/c])}return r};A.add=function(a){if(f.is(a,"array"))for(var b=this.set(),c=0,d=a.length,
e;c<d;c++)e=a[c]||{},H[B](e.type)&&b.push(this[e.type]().attr(e));return b};f.format=function(a,b){var c=f.is(b,x)?[0][D](b):arguments;a&&f.is(a,"string")&&c.length-1&&(a=a.replace(m,function(a,b){return null==c[++b]?"":c[b]}));return a||""};f.fullfill=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;c.replace(b,function(a,b,c,d,i){b=b||d;e&&(b in e&&(e=e[b]),"function"==typeof e&&i&&(e=e()))});e=(null==e||e==d?a:e)+"";return e};
return function(b,d){return(""+b).replace(a,function(a,b){return c(a,b,d)})}}();f.ninja=function(){R?j.win.Raphael=$:delete Raphael;return f};f.st=Q;(function(a,b,c){function d(){/in/.test(a.readyState)?setTimeout(d,9):f.eve("DOMload")}null==a.readyState&&a.addEventListener&&(a.addEventListener(b,c=function(){a.removeEventListener(b,c,!1);a.readyState="complete"},!1),a.readyState="loading");d()})(document,"DOMContentLoaded");R?j.win.Raphael=f:Raphael=f;eve.on("DOMload",function(){N=!0})})();
window.Raphael.svg&&function(g){var v=String,s=parseFloat,G=parseInt,p=Math,z=p.max,F=p.abs,y=p.pow,f=/[, ]+/,N=g.eve,P={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},H={};g.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var m=function(d,f){if(f){"string"==typeof d&&(d=m(d));for(var h in f)f.hasOwnProperty(h)&&("xlink:"==
h.substring(0,6)?d.setAttributeNS("http://www.w3.org/1999/xlink",h.substring(6),v(f[h])):d.setAttribute(h,v(f[h])))}else d=g._g.doc.createElementNS("http://www.w3.org/2000/svg",d),d.style&&(d.style.webkitTapHighlightColor="rgba(0,0,0,0)");return d},B=function(d,f){var h="linear",b=d.id+f,c=0.5,i=0.5,e=d.node,r=d.paper,l=e.style,j=g._g.doc.getElementById(b);if(!j){f=v(f).replace(g._radial_gradient,function(b,d,e){h="radial";d&&e&&(c=s(d),i=s(e),b=2*(0.5<i)-1,0.25<y(c-0.5,2)+y(i-0.5,2)&&(i=p.sqrt(0.25-
y(c-0.5,2))*b+0.5)&&0.5!=i&&(i=i.toFixed(5)-1.0E-5*b));return""});f=f.split(/\s*\-\s*/);if("linear"==h){var t=f.shift(),t=-s(t);if(isNaN(t))return null;var x=[0,0,p.cos(g.rad(t)),p.sin(g.rad(t))],t=1/(z(F(x[2]),F(x[3]))||1);x[2]*=t;x[3]*=t;0>x[2]&&(x[0]=-x[2],x[2]=0);0>x[3]&&(x[1]=-x[3],x[3]=0)}t=g._parseDots(f);if(!t)return null;b=b.replace(/[\(\)\s,\xb0#]/g,"_");d.gradient&&b!=d.gradient.id&&(r.defs.removeChild(d.gradient),delete d.gradient);if(!d.gradient){j=m(h+"Gradient",{id:b});d.gradient=j;
m(j,"radial"==h?{fx:c,fy:i}:{x1:x[0],y1:x[1],x2:x[2],y2:x[3],gradientTransform:d.matrix.invert()});r.defs.appendChild(j);r=0;for(x=t.length;r<x;r++)j.appendChild(m("stop",{offset:t[r].offset?t[r].offset:r?"100%":"0%","stop-color":t[r].color||"#fff"}))}}m(e,{fill:"url(#"+b+")",opacity:1,"fill-opacity":1});l.fill="";l.opacity=1;l.fillOpacity=1;return 1},j=function(d){var g=d.getBBox(1);m(d.pattern,{patternTransform:d.matrix.invert()+" translate("+g.x+","+g.y+")"})},R=function(d,f,h){if("path"==d.type){for(var b=
v(f).toLowerCase().split("-"),c=d.paper,i=h?"end":"start",e=d.node,r=d.attrs,l=r["stroke-width"],j=b.length,t="classic",s,p,z,B,y,G=3,A=3,F=5;j--;)switch(b[j]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":t=b[j];break;case "wide":A=5;break;case "narrow":A=2;break;case "long":G=5;break;case "short":G=2}"open"==t?(G+=2,A+=2,F+=2,z=1,B=h?4:1,y={fill:"none",stroke:r.stroke}):(B=z=G/2,y={fill:r.stroke,stroke:"none"});d._.arrows?h?(d._.arrows.endPath&&H[d._.arrows.endPath]--,
d._.arrows.endMarker&&H[d._.arrows.endMarker]--):(d._.arrows.startPath&&H[d._.arrows.startPath]--,d._.arrows.startMarker&&H[d._.arrows.startMarker]--):d._.arrows={};if("none"!=t){b="raphael-marker-"+t;j="raphael-marker-"+i+t+G+A;g._g.doc.getElementById(b)?H[b]++:(c.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:P[t],id:b})),H[b]=1);var D=g._g.doc.getElementById(j),E;D?(H[j]++,E=D.getElementsByTagName("use")[0]):(D=m(m("marker"),{id:j,markerHeight:A,markerWidth:G,orient:"auto",refX:B,refY:A/
2}),E=m(m("use"),{"xlink:href":"#"+b,transform:(h?" rotate(180 "+G/2+" "+A/2+") ":" ")+"scale("+G/F+","+A/F+")","stroke-width":1/((G/F+A/F)/2)}),D.appendChild(E),c.defs.appendChild(D),H[j]=1);m(E,y);c=z*("diamond"!=t&&"oval"!=t);h?(s=d._.arrows.startdx*l||0,p=g.getTotalLength(r.path)-c*l):(s=c*l,p=g.getTotalLength(r.path)-(d._.arrows.enddx*l||0));y={};y["marker-"+i]="url(#"+j+")";if(p||s)y.d=Raphael.getSubpath(r.path,s,p);m(e,y);d._.arrows[i+"Path"]=b;d._.arrows[i+"Marker"]=j;d._.arrows[i+"dx"]=c;
d._.arrows[i+"Type"]=t;d._.arrows[i+"String"]=f}else h?(s=d._.arrows.startdx*l||0,p=g.getTotalLength(r.path)-s):(s=0,p=g.getTotalLength(r.path)-(d._.arrows.enddx*l||0)),d._.arrows[i+"Path"]&&m(e,{d:Raphael.getSubpath(r.path,s,p)}),delete d._.arrows[i+"Path"],delete d._.arrows[i+"Marker"],delete d._.arrows[i+"dx"],delete d._.arrows[i+"Type"],delete d._.arrows[i+"String"];for(y in H)H.hasOwnProperty(y)&&!H[y]&&(d=g._g.doc.getElementById(y))&&d.parentNode.removeChild(d)}},$={"":[0],none:[0],"-":[3,1],
".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},O=function(d,g,h){if(g=$[v(g).toLowerCase()]){for(var b=d.attrs["stroke-width"]||"1",h={round:b,square:b,butt:0}[d.attrs["stroke-linecap"]||h["stroke-linecap"]]||0,c=[],i=g.length;i--;)c[i]=g[i]*b+(i%2?1:-1)*h;m(d.node,{"stroke-dasharray":c.join(",")})}},A=function(d,o){var h=d.node,b=d.attrs,c=h.style.visibility;h.style.visibility="hidden";for(var i in o)if(o.hasOwnProperty(i)&&
g._availableAttrs.hasOwnProperty(i)){var e=o[i];b[i]=e;switch(i){case "blur":d.blur(e);break;case "href":case "title":case "target":var r=h.parentNode;if("a"!=r.tagName.toLowerCase()){var l=m("a");r.insertBefore(l,h);l.appendChild(h);r=l}"target"==i&&"blank"==e?r.setAttributeNS("http://www.w3.org/1999/xlink","show","new"):r.setAttributeNS("http://www.w3.org/1999/xlink",i,e);break;case "cursor":h.style.cursor=e;break;case "transform":d.transform(e);break;case "arrow-start":R(d,e);break;case "arrow-end":R(d,
e,1);break;case "clip-rect":r=v(e).split(f);if(4==r.length){d.clip&&d.clip.parentNode.parentNode.removeChild(d.clip.parentNode);var l=m("clipPath"),q=m("rect");l.id=g.createUUID();m(q,{x:r[0],y:r[1],width:r[2],height:r[3]});l.appendChild(q);d.paper.defs.appendChild(l);m(h,{"clip-path":"url(#"+l.id+")"});d.clip=q}if(!e&&(e=h.getAttribute("clip-path")))e=g._g.doc.getElementById(e.replace(/(^url\(#|\)$)/g,"")),e&&e.parentNode.removeChild(e),m(h,{"clip-path":""}),delete d.clip;break;case "path":"path"==
d.type&&(m(h,{d:e?b.path=g._pathToAbsolute(e):"M0,0"}),d._.dirty=1,d._.arrows&&("startString"in d._.arrows&&R(d,d._.arrows.startString),"endString"in d._.arrows&&R(d,d._.arrows.endString,1)));break;case "width":if(h.setAttribute(i,e),d._.dirty=1,b.fx)i="x",e=b.x;else break;case "x":b.fx&&(e=-b.x-(b.width||0));case "rx":if("rx"==i&&"rect"==d.type)break;case "cx":h.setAttribute(i,e);d.pattern&&j(d);d._.dirty=1;break;case "height":if(h.setAttribute(i,e),d._.dirty=1,b.fy)i="y",e=b.y;else break;case "y":b.fy&&
(e=-b.y-(b.height||0));case "ry":if("ry"==i&&"rect"==d.type)break;case "cy":h.setAttribute(i,e);d.pattern&&j(d);d._.dirty=1;break;case "r":"rect"==d.type?m(h,{rx:e,ry:e}):h.setAttribute(i,e);d._.dirty=1;break;case "src":"image"==d.type&&h.setAttributeNS("http://www.w3.org/1999/xlink","href",e);break;case "stroke-width":if(1!=d._.sx||1!=d._.sy)e/=z(F(d._.sx),F(d._.sy))||1;d.paper._vbSize&&(e*=d.paper._vbSize);h.setAttribute(i,e);b["stroke-dasharray"]&&O(d,b["stroke-dasharray"],o);d._.arrows&&("startString"in
d._.arrows&&R(d,d._.arrows.startString),"endString"in d._.arrows&&R(d,d._.arrows.endString,1));break;case "stroke-dasharray":O(d,e,o);break;case "fill":var t=v(e).match(g._ISURL);if(t){var l=m("pattern"),s=m("image");l.id=g.createUUID();m(l,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});m(s,{x:0,y:0,"xlink:href":t[1]});l.appendChild(s);(function(b){g._preload(t[1],function(){var c=this.offsetWidth,e=this.offsetHeight;m(b,{width:c,height:e});m(s,{width:c,height:e});d.paper.safari()})})(l);
d.paper.defs.appendChild(l);h.style.fill="url(#"+l.id+")";m(h,{fill:"url(#"+l.id+")"});d.pattern=l;d.pattern&&j(d);break}var p=g.getRGB(e);if(p.error){if(("circle"==d.type||"ellipse"==d.type||"r"!=v(e).charAt())&&B(d,e)){if("opacity"in b||"fill-opacity"in b){var y=g._g.doc.getElementById(h.getAttribute("fill").replace(/^url\(#|\)$/g,""));if(y){var A=y.getElementsByTagName("stop");m(A[A.length-1],{"stop-opacity":("opacity"in b?b.opacity:1)*("fill-opacity"in b?b["fill-opacity"]:1)})}}b.gradient=e;b.fill=
"none";break}}else delete o.gradient,delete b.gradient,!g.is(b.opacity,"undefined")&&g.is(o.opacity,"undefined")&&m(h,{opacity:b.opacity}),!g.is(b["fill-opacity"],"undefined")&&g.is(o["fill-opacity"],"undefined")&&m(h,{"fill-opacity":b["fill-opacity"]});p.hasOwnProperty("opacity")&&m(h,{"fill-opacity":1<p.opacity?p.opacity/100:p.opacity});case "stroke":p=g.getRGB(e);h.setAttribute(i,p.hex);"stroke"==i&&p.hasOwnProperty("opacity")&&m(h,{"stroke-opacity":1<p.opacity?p.opacity/100:p.opacity});"stroke"==
i&&d._.arrows&&("startString"in d._.arrows&&R(d,d._.arrows.startString),"endString"in d._.arrows&&R(d,d._.arrows.endString,1));break;case "gradient":("circle"==d.type||"ellipse"==d.type||"r"!=v(e).charAt())&&B(d,e);break;case "opacity":b.gradient&&!b.hasOwnProperty("stroke-opacity")&&m(h,{"stroke-opacity":1<e?e/100:e});case "fill-opacity":if(b.gradient){y=g._g.doc.getElementById(h.getAttribute("fill").replace(/^url\(#|\)$/g,""));y&&(A=y.getElementsByTagName("stop"),m(A[A.length-1],{"stop-opacity":e}));
break}default:"font-size"==i&&(e=G(e,10)+"px"),r=i.replace(/(\-.)/g,function(b){return b.substring(1).toUpperCase()}),h.style[r]=e,d._.dirty=1,h.setAttribute(i,e)}}I(d,o);h.style.visibility=c},I=function(d,f){if("text"==d.type&&(f.hasOwnProperty("text")||f.hasOwnProperty("font")||f.hasOwnProperty("font-size")||f.hasOwnProperty("x")||f.hasOwnProperty("y"))){var h=d.attrs,b=d.node,c=b.firstChild?G(g._g.doc.defaultView.getComputedStyle(b.firstChild,"").getPropertyValue("font-size"),10):10;if(f.hasOwnProperty("text")){for(h.text=
f.text;b.firstChild;)b.removeChild(b.firstChild);for(var i=v(f.text).split("\n"),e=[],r,l=0,j=i.length;l<j;l++)r=m("tspan"),l&&m(r,{dy:1.2*c,x:h.x}),r.appendChild(g._g.doc.createTextNode(i[l])),b.appendChild(r),e[l]=r}else{e=b.getElementsByTagName("tspan");for(l=0,j=e.length;l<j;l++)l?m(e[l],{dy:1.2*c,x:h.x}):m(e[0],{dy:0})}m(b,{x:h.x,y:h.y});d._.dirty=1;b=d._getBBox();(h=h.y-(b.y+b.height/2))&&g.is(h,"finite")&&m(e[0],{dy:h})}},D=function(d,f){this[0]=this.node=d;d.raphael=!0;this.id=g._oid++;d.raphaelid=
this.id;this.matrix=g.matrix();this.realPath=null;this.paper=f;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!f.bottom&&(f.bottom=this);this.prev=f.top;f.top&&(f.top.next=this);f.top=this;this.next=null},M=g.el;D.prototype=M;M.constructor=D;g._engine.path=function(d,g){var h=m("path");g.canvas&&g.canvas.appendChild(h);h=new D(h,g);h.type="path";A(h,{fill:"none",stroke:"#000",path:d});return h};M.rotate=function(d,g,h){if(this.removed)return this;d=v(d).split(f);
d.length-1&&(g=s(d[1]),h=s(d[2]));d=s(d[0]);null==h&&(g=h);if(null==g||null==h)h=this.getBBox(1),g=h.x+h.width/2,h=h.y+h.height/2;this.transform(this._.transform.concat([["r",d,g,h]]));return this};M.scale=function(d,g,h,b){if(this.removed)return this;d=v(d).split(f);d.length-1&&(g=s(d[1]),h=s(d[2]),b=s(d[3]));d=s(d[0]);null==g&&(g=d);null==b&&(h=b);if(null==h||null==b)var c=this.getBBox(1);h=null==h?c.x+c.width/2:h;b=null==b?c.y+c.height/2:b;this.transform(this._.transform.concat([["s",d,g,h,b]]));
return this};M.translate=function(d,g){if(this.removed)return this;d=v(d).split(f);d.length-1&&(g=s(d[1]));d=s(d[0])||0;g=+g||0;this.transform(this._.transform.concat([["t",d,g]]));return this};M.transform=function(d){var f=this._;if(null==d)return f.transform;g._extractTransform(this,d);this.clip&&m(this.clip,{transform:this.matrix.invert()});this.pattern&&j(this);this.node&&m(this.node,{transform:this.matrix});if(1!=f.sx||1!=f.sy)this.attr({"stroke-width":this.attrs.hasOwnProperty("stroke-width")?
this.attrs["stroke-width"]:1});return this};M.hide=function(){!this.removed&&this.paper.safari(this.node.style.display="none");return this};M.show=function(){!this.removed&&this.paper.safari(this.node.style.display="");return this};M.remove=function(){if(!this.removed){var d=this.paper;d.__set__&&d.__set__.exclude(this);N.unbind("*.*."+this.id);this.gradient&&d.defs.removeChild(this.gradient);g._tear(this,d);this.node.parentNode.removeChild(this.node);for(var f in this)this[f]="function"==typeof this[f]?
g._removedFactory(f):null;this.removed=!0}};M._getBBox=function(){if("none"==this.node.style.display){this.show();var d=!0}var g={};try{g=this.node.getBBox()}catch(h){}finally{g=g||{}}d&&this.hide();return g};M.attr=function(d,j){if(this.removed)return this;if(null==d){var h={},b;for(b in this.attrs)this.attrs.hasOwnProperty(b)&&(h[b]=this.attrs[b]);h.gradient&&"none"==h.fill&&(h.fill=h.gradient)&&delete h.gradient;h.transform=this._.transform;return h}if(null==j&&g.is(d,"string")){if("fill"==d&&
"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==d)return this._.transform;b=d.split(f);for(var h={},c=0,i=b.length;c<i;c++)d=b[c],d in this.attrs?h[d]=this.attrs[d]:g.is(this.paper.customAttributes[d],"function")?h[d]=this.paper.customAttributes[d].def:h[d]=g._availableAttrs[d];return i-1?h:h[b[0]]}if(null==j&&g.is(d,"array")){h={};for(c=0,i=d.length;c<i;c++)h[d[c]]=this.attr(d[c]);return h}null!=j?(h={},h[d]=j):null!=d&&g.is(d,"object")&&(h=d);for(c in h)N("attr."+
c+"."+this.id,this,h[c]);for(c in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(c)&&h.hasOwnProperty(c)&&g.is(this.paper.customAttributes[c],"function"))for(i in b=this.paper.customAttributes[c].apply(this,[].concat(h[c])),this.attrs[c]=h[c],b)b.hasOwnProperty(i)&&(h[i]=b[i]);A(this,h);return this};M.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);
var d=this.paper;d.top!=this&&g._tofront(this,d);return this};M.toBack=function(){if(this.removed)return this;var d=this.node.parentNode;"a"==d.tagName.toLowerCase()?d.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):d.firstChild!=this.node&&d.insertBefore(this.node,this.node.parentNode.firstChild);g._toback(this,this.paper);return this};M.insertAfter=function(d){if(this.removed)return this;var f=d.node||d[d.length-1].node;f.nextSibling?f.parentNode.insertBefore(this.node,
f.nextSibling):f.parentNode.appendChild(this.node);g._insertafter(this,d,this.paper);return this};M.insertBefore=function(d){if(this.removed)return this;var f=d.node||d[0].node;f.parentNode.insertBefore(this.node,f);g._insertbefore(this,d,this.paper);return this};M.blur=function(d){if(0!==+d){var f=m("filter"),h=m("feGaussianBlur");this.attrs.blur=d;f.id=g.createUUID();m(h,{stdDeviation:+d||1.5});f.appendChild(h);this.paper.defs.appendChild(f);this._blur=f;m(this.node,{filter:"url(#"+f.id+")"})}else this._blur&&
(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur),this.node.removeAttribute("filter")};g._engine.circle=function(d,g,h,b){var c=m("circle");d.canvas&&d.canvas.appendChild(c);d=new D(c,d);d.attrs={cx:g,cy:h,r:b,fill:"none",stroke:"#000"};d.type="circle";m(c,d.attrs);return d};g._engine.rect=function(d,g,h,b,c,i){var e=m("rect");d.canvas&&d.canvas.appendChild(e);d=new D(e,d);d.attrs={x:g,y:h,width:b,height:c,r:i||0,rx:i||0,ry:i||0,fill:"none",stroke:"#000"};d.type=
"rect";m(e,d.attrs);return d};g._engine.ellipse=function(d,g,h,b,c){var i=m("ellipse");d.canvas&&d.canvas.appendChild(i);d=new D(i,d);d.attrs={cx:g,cy:h,rx:b,ry:c,fill:"none",stroke:"#000"};d.type="ellipse";m(i,d.attrs);return d};g._engine.image=function(d,g,h,b,c,i){var e=m("image");m(e,{x:h,y:b,width:c,height:i,preserveAspectRatio:"none"});e.setAttributeNS("http://www.w3.org/1999/xlink","href",g);d.canvas&&d.canvas.appendChild(e);d=new D(e,d);d.attrs={x:h,y:b,width:c,height:i,src:g};d.type="image";
return d};g._engine.text=function(d,f,h,b){var c=m("text");d.canvas&&d.canvas.appendChild(c);d=new D(c,d);d.attrs={x:f,y:h,"text-anchor":"middle",text:b,font:g._availableAttrs.font,stroke:"none",fill:"#000"};d.type="text";A(d,d.attrs);return d};g._engine.setSize=function(d,g){this.width=d||this.width;this.height=g||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);this._viewBox&&this.setViewBox.apply(this,this._viewBox);return this};g._engine.create=
function(){var d=g._getContainer.apply(0,arguments),f=d&&d.container,h=d.x,b=d.y,c=d.width,d=d.height;if(!f)throw Error("SVG container not found.");var i=m("svg"),e;h=h||0;b=b||0;c=c||512;d=d||342;m(i,{height:d,version:1.1,width:c,xmlns:"http://www.w3.org/2000/svg"});1==f?(i.style.cssText="overflow:hidden;position:absolute;left:"+h+"px;top:"+b+"px",g._g.doc.body.appendChild(i),e=1):(i.style.cssText="overflow:hidden;position:relative",f.firstChild?f.insertBefore(i,f.firstChild):f.appendChild(i));f=
new g._Paper;f.width=c;f.height=d;f.canvas=i;f.clear();f._left=f._top=0;e&&(f.renderfix=function(){});f.renderfix();return f};g._engine.setViewBox=function(d,g,f,b,c){N("setViewBox",this,this._viewBox,[d,g,f,b,c]);var i=z(f/this.width,b/this.height),e=this.top,j,l;for(null==d?(this._vbSize&&(i=1),delete this._vbSize,j="0 0 "+this.width+" "+this.height):(this._vbSize=i,j=d+" "+g+" "+f+" "+b),m(this.canvas,{viewBox:j,preserveAspectRatio:c?"meet":"xMinYMin"});i&&e;)l="stroke-width"in e.attrs?e.attrs["stroke-width"]:
1,e.attr({"stroke-width":l}),e._.dirty=1,e._.dirtyT=1,e=e.prev;this._viewBox=[d,g,f,b,!!c];return this};g.prototype.renderfix=function(){var d=this.canvas,f=d.style,g=d.getScreenCTM()||d.createSVGMatrix(),d=-g.e%1,g=-g.f%1;if(d||g)d&&(this._left=(this._left+d)%1,f.left=this._left+"px"),g&&(this._top=(this._top+g)%1,f.top=this._top+"px")};g.prototype.clear=function(){g.eve("clear",this);for(var d=this.canvas;d.firstChild;)d.removeChild(d.firstChild);this.bottom=this.top=null;(this.desc=m("desc")).appendChild(g._g.doc.createTextNode("Created with Rapha\u00ebl "+
g.version));d.appendChild(this.desc);d.appendChild(this.defs=m("defs"))};g.prototype.remove=function(){N("remove",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var d in this)this[d]="function"==typeof this[d]?g._removedFactory(d):null};var S=g.st,E;for(E in M)M.hasOwnProperty(E)&&!S.hasOwnProperty(E)&&(S[E]=function(d){return function(){var g=arguments;return this.forEach(function(f){f[d].apply(f,g)})}}(E))}(window.Raphael);
window.Raphael.vml&&function(g){var v=String,s=parseFloat,G=Math,p=G.round,z=G.max,F=G.min,y=G.abs,f=/[, ]+/,N=g.eve,P={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},H=/([clmz]),?([^clmz]*)/gi,m=/ progid:\S+Blur\([^\)]+\)/g,B=/-?[^,\s-]+/g,j={path:1,rect:1,image:1},R={circle:1,ellipse:1},$=function(b){var c=/[ahqstv]/ig,d=g._pathToAbsolute;v(b).match(c)&&(d=g._path2curve);c=/[clmz]/g;if(d==g._pathToAbsolute&&!v(b).match(c))return b=v(b).replace(H,function(b,c,d){var e=[],i="m"==c.toLowerCase(),
f=P[c];d.replace(B,function(b){i&&2==e.length&&(f+=e+P["m"==c?"l":"L"],e=[]);e.push(p(21600*b))});return f+e});for(var c=d(b),e,b=[],f=0,h=c.length;f<h;f++){d=c[f];e=c[f][0].toLowerCase();"z"==e&&(e="x");for(var j=1,m=d.length;j<m;j++)e+=p(21600*d[j])+(j!=m-1?",":"");b.push(e)}return b.join(" ")},O=function(b,c,d){var e=g.matrix();e.rotate(-b,0.5,0.5);return{dx:e.x(c,d),dy:e.y(c,d)}},A=function(b,c,d,e,f,g){var h=b._,j=b.matrix,m=h.fillpos,b=b.node,p=b.style,s=1,o="",z=21600/c,B=21600/d;p.visibility=
"hidden";if(c&&d){b.coordsize=y(z)+" "+y(B);p.rotation=g*(0>c*d?-1:1);if(g){var v=O(g,e,f);e=v.dx;f=v.dy}0>c&&(o+="x");0>d&&(o+=" y")&&(s=-1);p.flip=o;b.coordorigin=e*-z+" "+f*-B;if(m||h.fillsize)e=b.getElementsByTagName("fill"),e=e&&e[0],b.removeChild(e),m&&(v=O(g,j.x(m[0],m[1]),j.y(m[0],m[1])),e.position=v.dx*s+" "+v.dy*s),h.fillsize&&(e.size=h.fillsize[0]*y(c)+" "+h.fillsize[1]*y(d)),b.appendChild(e);p.visibility="visible"}};g.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+
this.version};var I=function(b,c,d){for(var c=v(c).toLowerCase().split("-"),d=d?"end":"start",e=c.length,f="classic",g="medium",h="medium";e--;)switch(c[e]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":f=c[e];break;case "wide":case "narrow":h=c[e];break;case "long":case "short":g=c[e]}b=b.node.getElementsByTagName("stroke")[0];b[d+"arrow"]=f;b[d+"arrowlength"]=g;b[d+"arrowwidth"]=h},D=function(b,c){b.attrs=b.attrs||{};var i=b.node,e=b.attrs,h=i.style,l=j[b.type]&&
(c.x!=e.x||c.y!=e.y||c.width!=e.width||c.height!=e.height||c.cx!=e.cx||c.cy!=e.cy||c.rx!=e.rx||c.ry!=e.ry||c.r!=e.r),m=R[b.type]&&(e.cx!=c.cx||e.cy!=c.cy||e.r!=c.r||e.rx!=c.rx||e.ry!=c.ry),t;for(t in c)c.hasOwnProperty(t)&&(e[t]=c[t]);l&&(e.path=g._getPath[b.type](b),b._.dirty=1);c.href&&(i.href=c.href);c.title&&(i.title=c.title);c.target&&(i.target=c.target);c.cursor&&(h.cursor=c.cursor);"blur"in c&&b.blur(c.blur);if(c.path&&"path"==b.type||l)i.path=$(~v(e.path).toLowerCase().indexOf("r")?g._pathToAbsolute(e.path):
e.path),"image"==b.type&&(b._.fillpos=[e.x,e.y],b._.fillsize=[e.width,e.height],A(b,1,1,0,0,0));"transform"in c&&b.transform(c.transform);if(m){l=+e.cx;m=+e.cy;t=+e.rx||+e.r||0;var o=+e.ry||+e.r||0;i.path=g.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",p(21600*(l-t)),p(21600*(m-o)),p(21600*(l+t)),p(21600*(m+o)),p(21600*l))}if("clip-rect"in c){l=v(c["clip-rect"]).split(f);if(4==l.length)l[2]=+l[2]+ +l[0],l[3]=+l[3]+ +l[1],m=i.clipRect||g._g.doc.createElement("div"),t=m.style,t.clip=g.format("rect({1}px {2}px {3}px {0}px)",
l),i.clipRect||(t.position="absolute",t.top=0,t.left=0,t.width=b.paper.width+"px",t.height=b.paper.height+"px",i.parentNode.insertBefore(m,i),m.appendChild(i),i.clipRect=m);c["clip-rect"]||i.clipRect&&(i.clipRect.style.clip="auto")}if(b.textpath)l=b.textpath.style,c.font&&(l.font=c.font),c["font-family"]&&(l.fontFamily='"'+c["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),c["font-size"]&&(l.fontSize=c["font-size"]),c["font-weight"]&&(l.fontWeight=c["font-weight"]),c["font-style"]&&
(l.fontStyle=c["font-style"]);"arrow-start"in c&&I(b,c["arrow-start"]);"arrow-end"in c&&I(b,c["arrow-end"],1);if(null!=c.opacity||null!=c["stroke-width"]||null!=c.fill||null!=c.src||null!=c.stroke||null!=c["stroke-width"]||null!=c["stroke-opacity"]||null!=c["fill-opacity"]||null!=c["stroke-dasharray"]||null!=c["stroke-miterlimit"]||null!=c["stroke-linejoin"]||null!=c["stroke-linecap"]){l=i.getElementsByTagName("fill");l=l&&l[0];!l&&(l=d("fill"));"image"==b.type&&c.src&&(l.src=c.src);c.fill&&(l.on=
!0);if(null==l.on||"none"==c.fill||null===c.fill)l.on=!1;if(l.on&&c.fill)(m=v(c.fill).match(g._ISURL))?(l.parentNode==i&&i.removeChild(l),l.rotate=!0,l.src=m[1],l.type="tile",t=b.getBBox(1),l.position=t.x+" "+t.y,b._.fillpos=[t.x,t.y],g._preload(m[1],function(){b._.fillsize=[this.offsetWidth,this.offsetHeight]})):(l.color=g.getRGB(c.fill).hex,l.src="",l.type="solid",g.getRGB(c.fill).error&&(b.type in{circle:1,ellipse:1}||"r"!=v(c.fill).charAt())&&M(b,c.fill,l)&&(e.fill="none",e.gradient=c.fill,l.rotate=
!1));if("fill-opacity"in c||"opacity"in c)t=((+e["fill-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+g.getRGB(c.fill).o+1||2)-1),t=F(z(t,0),1),l.opacity=t,l.src&&(l.color="none");i.appendChild(l);l=i.getElementsByTagName("stroke")&&i.getElementsByTagName("stroke")[0];m=!1;!l&&(m=l=d("stroke"));if(c.stroke&&"none"!=c.stroke||c["stroke-width"]||null!=c["stroke-opacity"]||c["stroke-dasharray"]||c["stroke-miterlimit"]||c["stroke-linejoin"]||c["stroke-linecap"])l.on=!0;("none"==c.stroke||null===c.stroke||
null==l.on||0==c.stroke||0==c["stroke-width"])&&(l.on=!1);t=g.getRGB(c.stroke);l.on&&c.stroke&&(l.color=t.hex);t=((+e["stroke-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+t.o+1||2)-1);o=0.75*(s(c["stroke-width"])||1);t=F(z(t,0),1);null==c["stroke-width"]&&(o=e["stroke-width"]);c["stroke-width"]&&(l.weight=o);o&&1>o&&(t*=o)&&(l.weight=1);l.opacity=t;c["stroke-linejoin"]&&(l.joinstyle=c["stroke-linejoin"]||"miter");l.miterlimit=c["stroke-miterlimit"]||8;c["stroke-linecap"]&&(l.endcap="butt"==c["stroke-linecap"]?
"flat":"square"==c["stroke-linecap"]?"square":"round");if(c["stroke-dasharray"])t={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},l.dashstyle=t.hasOwnProperty(c["stroke-dasharray"])?t[c["stroke-dasharray"]]:"";m&&i.appendChild(l)}if("text"==b.type){b.paper.canvas.style.display="";i=b.paper.span;l=e.font&&e.font.match(/\d+(?:\.\d*)?(?=px)/);h=i.style;e.font&&(h.font=e.font);
e["font-family"]&&(h.fontFamily=e["font-family"]);e["font-weight"]&&(h.fontWeight=e["font-weight"]);e["font-style"]&&(h.fontStyle=e["font-style"]);l=s(e["font-size"]||l&&l[0])||10;h.fontSize=100*l+"px";b.textpath.string&&(i.innerHTML=v(b.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));h=i.getBoundingClientRect();b.W=e.w=(h.right-h.left)/100;b.H=e.h=(h.bottom-h.top)/100;b.X=e.x;b.Y=e.y+b.H/2;("x"in c||"y"in c)&&(b.path.v=g.format("m{0},{1}l{2},{1}",p(21600*e.x),
p(21600*e.y),p(21600*e.x)+1));h="x,y,text,font,font-family,font-weight,font-style,font-size".split(",");i=0;for(l=h.length;i<l;i++)if(h[i]in c){b._.dirty=1;break}switch(e["text-anchor"]){case "start":b.textpath.style["v-text-align"]="left";b.bbx=b.W/2;break;case "end":b.textpath.style["v-text-align"]="right";b.bbx=-b.W/2;break;default:b.textpath.style["v-text-align"]="center",b.bbx=0}b.textpath.style["v-text-kern"]=!0}},M=function(b,c,d){b.attrs=b.attrs||{};var e=Math.pow,f="linear",h=".5 .5";b.attrs.gradient=
c;c=v(c).replace(g._radial_gradient,function(b,c,d){f="radial";c&&d&&(c=s(c),d=s(d),0.25<e(c-0.5,2)+e(d-0.5,2)&&(d=G.sqrt(0.25-e(c-0.5,2))*(2*(0.5<d)-1)+0.5),h=c+" "+d);return""});c=c.split(/\s*\-\s*/);if("linear"==f){var j=c.shift(),j=-s(j);if(isNaN(j))return null}c=g._parseDots(c);if(!c)return null;b=b.shape||b.node;if(c.length){b.removeChild(d);d.on=!0;d.method="none";d.color=c[0].color;d.color2=c[c.length-1].color;for(var m=[],p=0,o=c.length;p<o;p++)c[p].offset&&m.push(c[p].offset+" "+c[p].color);
d.colors=m.length?m.join():"0% "+d.color;"radial"==f?(d.type="gradientTitle",d.focus="100%",d.focussize="0 0",d.focusposition=h,d.angle=0):(d.type="gradient",d.angle=(270-j)%360);b.appendChild(d)}return 1},S=function(b,c){this[0]=this.node=b;b.raphael=!0;this.id=g._oid++;b.raphaelid=this.id;this.X=0;this.Y=0;this.attrs={};this.paper=c;this.matrix=g.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!c.bottom&&(c.bottom=this);this.prev=c.top;c.top&&(c.top.next=this);c.top=this;
this.next=null},E=g.el;S.prototype=E;E.constructor=S;E.transform=function(b){if(null==b)return this._.transform;var c=this.paper._viewBoxShift,d=c?"s"+[c.scale,c.scale]+"-1-1t"+[c.dx,c.dy]:"",e;c&&(e=b=v(b).replace(/\.{3}|\u2026/g,this._.transform||""));g._extractTransform(this,d+b);var c=this.matrix.clone(),f=this.skew,b=this.node,d=~v(this.attrs.fill).indexOf("-"),h=!v(this.attrs.fill).indexOf("url(");c.translate(-0.5,-0.5);h||d||"image"==this.type?(f.matrix="1 0 0 1",f.offset="0 0",f=c.split(),
d&&f.noRotation||!f.isSimple?(b.style.filter=c.toFilter(),d=this.getBBox(),f=this.getBBox(1),c=d.x-f.x,d=d.y-f.y,b.coordorigin=-21600*c+" "+-21600*d,A(this,1,1,c,d,0)):(b.style.filter="",A(this,f.scalex,f.scaley,f.dx,f.dy,f.rotate))):(b.style.filter="",f.matrix=v(c),f.offset=c.offset());e&&(this._.transform=e);return this};E.rotate=function(b,c,d){if(this.removed)return this;if(null!=b){b=v(b).split(f);b.length-1&&(c=s(b[1]),d=s(b[2]));b=s(b[0]);null==d&&(c=d);if(null==c||null==d)d=this.getBBox(1),
c=d.x+d.width/2,d=d.y+d.height/2;this._.dirtyT=1;this.transform(this._.transform.concat([["r",b,c,d]]));return this}};E.translate=function(b,c){if(this.removed)return this;b=v(b).split(f);b.length-1&&(c=s(b[1]));b=s(b[0])||0;c=+c||0;this._.bbox&&(this._.bbox.x+=b,this._.bbox.y+=c);this.transform(this._.transform.concat([["t",b,c]]));return this};E.scale=function(b,c,d,e){if(this.removed)return this;b=v(b).split(f);b.length-1&&(c=s(b[1]),d=s(b[2]),e=s(b[3]),isNaN(d)&&(d=null),isNaN(e)&&(e=null));b=
s(b[0]);null==c&&(c=b);null==e&&(d=e);if(null==d||null==e)var g=this.getBBox(1);d=null==d?g.x+g.width/2:d;e=null==e?g.y+g.height/2:e;this.transform(this._.transform.concat([["s",b,c,d,e]]));this._.dirtyT=1;return this};E.hide=function(){!this.removed&&(this.node.style.display="none");return this};E.show=function(){!this.removed&&(this.node.style.display="");return this};E._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}};E.remove=
function(){if(!this.removed){this.paper.__set__&&this.paper.__set__.exclude(this);g.eve.unbind("*.*."+this.id);g._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this)this[b]="function"==typeof this[b]?g._removedFactory(b):null;this.removed=!0}};E.attr=function(b,c){if(this.removed)return this;if(null==b){var d={},e;for(e in this.attrs)this.attrs.hasOwnProperty(e)&&(d[e]=this.attrs[e]);d.gradient&&"none"==d.fill&&
(d.fill=d.gradient)&&delete d.gradient;d.transform=this._.transform;return d}if(null==c&&g.is(b,"string")){if("fill"==b&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;e=b.split(f);for(var d={},h=0,l=e.length;h<l;h++)b=e[h],b in this.attrs?d[b]=this.attrs[b]:g.is(this.paper.customAttributes[b],"function")?d[b]=this.paper.customAttributes[b].def:d[b]=g._availableAttrs[b];return l-1?d:d[e[0]]}if(this.attrs&&null==c&&g.is(b,"array")){d={};for(h=0,l=b.length;h<l;h++)d[b[h]]=this.attr(b[h]);
return d}null!=c&&(d={},d[b]=c);null==c&&g.is(b,"object")&&(d=b);for(h in d)N("attr."+h+"."+this.id,this,d[h]);if(d){for(h in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(h)&&d.hasOwnProperty(h)&&g.is(this.paper.customAttributes[h],"function"))for(l in e=this.paper.customAttributes[h].apply(this,[].concat(d[h])),this.attrs[h]=d[h],e)e.hasOwnProperty(l)&&(d[l]=e[l]);d.text&&"text"==this.type&&(this.textpath.string=d.text);D(this,d)}return this};E.toFront=function(){!this.removed&&
this.node.parentNode.appendChild(this.node);this.paper&&this.paper.top!=this&&g._tofront(this,this.paper);return this};E.toBack=function(){if(this.removed)return this;this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),g._toback(this,this.paper));return this};E.insertAfter=function(b){if(this.removed)return this;b.constructor==g.st.constructor&&(b=b[b.length-1]);b.node.nextSibling?b.node.parentNode.insertBefore(this.node,b.node.nextSibling):
b.node.parentNode.appendChild(this.node);g._insertafter(this,b,this.paper);return this};E.insertBefore=function(b){if(this.removed)return this;b.constructor==g.st.constructor&&(b=b[0]);b.node.parentNode.insertBefore(this.node,b.node);g._insertbefore(this,b,this.paper);return this};E.blur=function(b){var c=this.node.runtimeStyle,d=c.filter;d=d.replace(m,"");0!==+b?(this.attrs.blur=b,c.filter=d+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+b||1.5)+")",c.margin=g.format("-{0}px 0 0 -{0}px",
p(+b||1.5))):(c.filter=d,c.margin=0,delete this.attrs.blur)};g._engine.path=function(b,c){var f=d("shape");f.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";f.coordsize="21600 21600";f.coordorigin=c.coordorigin;var e=new S(f,c),g={fill:"none",stroke:"#000"};b&&(g.path=b);e.type="path";e.path=[];e.Path="";D(e,g);c.canvas.appendChild(f);g=d("skew");g.on=!0;f.appendChild(g);e.skew=g;e.transform("");return e};g._engine.rect=function(b,c,d,e,f,h){var j=g._rectPath(c,d,e,f,h),b=b.path(j),
m=b.attrs;b.X=m.x=c;b.Y=m.y=d;b.W=m.width=e;b.H=m.height=f;m.r=h;m.path=j;b.type="rect";return b};g._engine.ellipse=function(b,c,d,e,f){b=b.path();b.X=c-e;b.Y=d-f;b.W=2*e;b.H=2*f;b.type="ellipse";D(b,{cx:c,cy:d,rx:e,ry:f});return b};g._engine.circle=function(b,c,d,e){b=b.path();b.X=c-e;b.Y=d-e;b.W=b.H=2*e;b.type="circle";D(b,{cx:c,cy:d,r:e});return b};g._engine.image=function(b,c,d,e,f,h){var j=g._rectPath(d,e,f,h),b=b.path(j).attr({stroke:"none"}),m=b.attrs,p=b.node,o=p.getElementsByTagName("fill")[0];
m.src=c;b.X=m.x=d;b.Y=m.y=e;b.W=m.width=f;b.H=m.height=h;m.path=j;b.type="image";o.parentNode==p&&p.removeChild(o);o.rotate=!0;o.src=c;o.type="tile";b._.fillpos=[d,e];b._.fillsize=[f,h];p.appendChild(o);A(b,1,1,0,0,0);return b};g._engine.text=function(b,c,f,e){var h=d("shape"),j=d("path"),m=d("textpath");c=c||0;f=f||0;e=e||"";j.v=g.format("m{0},{1}l{2},{1}",p(21600*c),p(21600*f),p(21600*c)+1);j.textpathok=!0;m.string=v(e);m.on=!0;h.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";
h.coordsize="21600 21600";h.coordorigin="0 0";var o=new S(h,b),s={fill:"#000",stroke:"none",font:g._availableAttrs.font,text:e};o.shape=h;o.path=j;o.textpath=m;o.type="text";o.attrs.text=v(e);o.attrs.x=c;o.attrs.y=f;o.attrs.w=1;o.attrs.h=1;D(o,s);h.appendChild(m);h.appendChild(j);b.canvas.appendChild(h);b=d("skew");b.on=!0;h.appendChild(b);o.skew=b;o.transform("");return o};g._engine.setSize=function(b,c){var d=this.canvas.style;this.width=b;this.height=c;b==+b&&(b+="px");c==+c&&(c+="px");d.width=
b;d.height=c;d.clip="rect(0 "+b+" "+c+" 0)";this._viewBox&&g._engine.setViewBox.apply(this,this._viewBox);return this};g._engine.setViewBox=function(b,c,d,e,f){g.eve("setViewBox",this,this._viewBox,[b,c,d,e,f]);var h=this.width,j=this.height,m=1/z(d/h,e/j),o,p;f&&(o=j/e,p=h/d,d*o<h&&(b-=(h-d*o)/2/o),e*p<j&&(c-=(j-e*p)/2/p));this._viewBox=[b,c,d,e,!!f];this._viewBoxShift={dx:-b,dy:-c,scale:m};this.forEach(function(b){b.transform("...")});return this};var d;g._engine.initWin=function(b){var c=b.document;
c.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!c.namespaces.rvml&&c.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),d=function(b){return c.createElement("<rvml:"+b+' class="rvml">')}}catch(f){d=function(b){return c.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}};g._engine.initWin(g._g.win);g._engine.create=function(){var b=g._getContainer.apply(0,arguments),c=b.container,d=b.height,e=b.width,f=b.x,b=b.y;if(!c)throw Error("VML container not found.");
var h=new g._Paper,j=h.canvas=g._g.doc.createElement("div"),m=j.style;f=f||0;b=b||0;e=e||512;d=d||342;h.width=e;h.height=d;e==+e&&(e+="px");d==+d&&(d+="px");h.coordsize="21600000 21600000";h.coordorigin="0 0";h.span=g._g.doc.createElement("span");h.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;";j.appendChild(h.span);m.cssText=g.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",
e,d);1==c?(g._g.doc.body.appendChild(j),m.left=f+"px",m.top=b+"px",m.position="absolute"):c.firstChild?c.insertBefore(j,c.firstChild):c.appendChild(j);h.renderfix=function(){};return h};g.prototype.clear=function(){g.eve("clear",this);this.canvas.innerHTML="";this.span=g._g.doc.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};g.prototype.remove=function(){g.eve("remove",
this);this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?g._removedFactory(b):null;return!0};var o=g.st,h;for(h in E)E.hasOwnProperty(h)&&!o.hasOwnProperty(h)&&(o[h]=function(b){return function(){var c=arguments;return this.forEach(function(d){d[b].apply(d,c)})}}(h))}(window.Raphael);var JSLIFE=JSLIFE||{};
(function(){JSLIFE.configuration={};JSLIFE.configuration.Configuration=function(){this.targetDivId="canvas";this.horizontalBlocks=50;this.foregroundColor="blue";this.backgroundColor="black";this.backgroundStrokeColor=this.foregroundStrokeColor="white";this.updateSpeed=50;this.getTargetDivId=function(){return this.targetDivId};this.getHorizontalBlocks=function(){return this.horizontalBlocks};this.getForegroundColor=function(){return this.foregroundColor};this.getBackgroundColor=function(){return this.backgroundColor};
this.getForegroundStrokeColor=function(){return this.foregroundStrokeColor};this.getBackgroundStrokeColor=function(){return this.backgroundStrokeColor};this.getUpdateSpeed=function(){return this.updateSpeed};this.withTargetDivId=function(g){this.targetDivId=g;return this};this.withHorizontalBlocks=function(g){this.horizontalBlocks=g;return this};this.withForegroundColor=function(g){this.foregroundColor=g;return this};this.withBackgroundColor=function(g){this.backgroundColor=g;return this};this.withForegroundStrokeColor=
function(g){this.foregroundStrokeColor=g;return this};this.withBackgroundStrokeColor=function(g){this.backgroundStrokeColor=g;return this};this.withUpdateSpeed=function(g){this.updateSpeed=g;return this}}})();JSLIFE=JSLIFE||{};void 0==this.Raphael&&alert("Oops, the Raphaeljs framework was not found...");if(!Array.prototype.filter)Array.prototype.filter=function(g,v){var s=this.length>>>0;if("function"!=typeof g)throw new TypeError;for(var G=[],p=0;p<s;p++)if(p in this){var z=this[p];g.call(v,z,p,this)&&G.push(z)}return G};
(function(){JSLIFE.core={};var g=new JSLIFE.configuration.Configuration;JSLIFE.core.JSLife=function(v){this.init=function(g){var v=this.makeRaphaelPaper(g),p=this.makeEmptyState(v,g);this.randomize(p);this.loop(v,p,g)};this.makeRaphaelPaper=function(g){return Raphael(g.targetDivId,"100%","100%")};this.makeEmptyState=function(g,v){var p={},z=v.horizontalBlocks+2,F,y=g.canvas.clientWidth/v.horizontalBlocks,f=Math.floor(g.canvas.clientHeight/y)+2,N,P=this;p.each=function(g,s){var j=!s?1:0;for(N=j;N<
f-j;N++)for(F=j;F<z-j;F++){var y=p[P.makeKey(F,N)];g(y,F,N)}};p.resetChangelings=function(){this.changelings={}};p.eachChangeling=function(f){for(var g in this.changelings)if(this.changelings.hasOwnProperty(g)){var j=this.changelings[g];j.dummy||f(j)}};p.live=function(f){this.setTaken(f,!0)};p.die=function(f){this.setTaken(f,!1)};p.setTaken=function(f,g){f.taken=g;this.changelings[f.key]=f;var j=f.neighbours.length,p;for(p=0;p<j;p++){var s=f.neighbours[p];s.dummy||(this.changelings[s.key]=s)}};p.resetChangelings();
for(N=0;N<f;N++)for(F=0;F<z;F++){var H;H=0<F&&F<z-1&&0<N&&N<f-1?this.makeRealRect(g,F,N,y):this.makeDummyRect(F,N);p[H.key]=H}p.each(function(f,g,j){f.neighbours=[p[P.makeKey(g,j-1)],p[P.makeKey(g,j+1)],p[P.makeKey(g-1,j)],p[P.makeKey(g+1,j)],p[P.makeKey(g-1,j-1)],p[P.makeKey(g+1,j-1)],p[P.makeKey(g-1,j+1)],p[P.makeKey(g+1,j+1)]];f.takenNeighbours=function(){return this.neighbours.filter(function(f){return f.taken})}});return p};this.makeKey=function(g,v){return g+"_"+v};this.randomize=function(g){g.each(function(v){var p=
5<Math.floor(11*Math.random())?!0:!1;g.setTaken(v,p)})};this.makeRealRect=function(g,v,p,z){g=g.rect((v-1)*z,(p-1)*z,z,z);g.key=this.makeKey(v,p);return g};this.makeDummyRect=function(g,v){var p={taken:!1};p.key=this.makeKey(g,v);p.attr=function(){};p.dummy=!0;return p};this.loop=function(g,v,p){this.evolve(v,p);this.render(g,v,p);var z=this;setTimeout(function(){z.loop(g,v,p)},p.updateSpeed)};this.evolve=function(g){var v=[];g.eachChangeling(function(g){var p=g.takenNeighbours().length;2>p&&g.taken?
v.push({alive:!1,rect:g}):3<p&&g.taken?v.push({alive:!1,rect:g}):(2===p||3===p)&&g.taken?v.push({alive:!0,rect:g}):!g.taken&&3===p&&v.push({alive:!0,rect:g})});g.resetChangelings();for(var p=v.length-1;0<=p;){var z=v[p];g.setTaken(z.rect,z.alive);p-=1}};this.render=function(g,v,p){v.each(function(g){!0==g.taken?(g.attr("fill",p.foregroundColor),g.attr("stroke",p.foregroundStrokeColor)):(g.attr("fill",p.backgroundColor),g.attr("stroke",p.backgroundStrokeColor))})};this.init(v||g)}})();
